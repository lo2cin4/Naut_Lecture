<!DOCTYPE html>

<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>æ¨¡çµ„ 13ï¼šé©é…å™¨èˆ‡æ“´å±• â€” NautilusTrader æ•™æ</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Noto+Sans+TC:wght@300;400;500;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="../assets/style.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
<!-- Language Toggle -->
<style>
.lang-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    background: rgba(43, 48, 59, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 6px 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    text-decoration: none;
    color: var(--text-secondary, #A0AEC0);
    font-size: 0.9rem;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.lang-toggle:hover {
    background: rgba(60, 65, 75, 0.9);
    color: var(--text-primary, #F7FAFC);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}
.lang-toggle span.active {
    color: #64ffda;
    font-weight: 600;
}
.lang-toggle svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
}
</style>
<a class="lang-toggle" href="../en/Module_13_Adapters_Extensions/index.html" title="Switch to English">
<svg viewbox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>
<span>EN / <span class="active">ä¸­</span></span>
</a>

<!-- Language Toggle -->


<div class="page-wrapper">
<nav class="sidebar">
<div class="sidebar-header">
<div class="sidebar-logo"><span class="icon">ğŸš</span> NautilusTrader æ•™æ</div>
</div>
<div class="sidebar-nav">
<div class="nav-section">
<div class="nav-section-title">ç¬¬é›¶éšæ®µï¼šèµ·æ­¥</div>
</div>
<a class="nav-item" href="../Module_00_Getting_Started/index.html"><span class="nav-num">00</span>
                    ç’°å¢ƒå®‰è£</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬ä¸€éšæ®µï¼šå…¨å±€èªè­˜</div>
</div>
<a class="nav-item" href="../Module_01_Why_NautilusTrader/index.html"><span class="nav-num">01</span>
                    ç‚ºä»€éº¼é¸æ“‡</a>
<a class="nav-item" href="../Module_02_Architecture_Overview/index.html"><span class="nav-num">02</span>
                    æ•´é«”æ¶æ§‹</a>
<a class="nav-item" href="../Module_03_Design_Philosophy/index.html"><span class="nav-num">03</span>
                    è¨­è¨ˆå“²å­¸</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬äºŒéšæ®µï¼šæ ¸å¿ƒçµ„ä»¶</div>
</div>
<a class="nav-item" href="../Module_04_Domain_Model/index.html"><span class="nav-num">04</span> é ˜åŸŸæ¨¡å‹</a>
<a class="nav-item" href="../Module_05_MessageBus/index.html"><span class="nav-num">05</span> æ¶ˆæ¯ç¸½ç·š</a>
<a class="nav-item" href="../Module_05B_Data_Management/index.html"><span class="nav-num">05B</span>
                    æ•¸æ“šç®¡ç†</a>
<a class="nav-item" href="../Module_06_Cache/index.html"><span class="nav-num">06</span> ç·©å­˜ç³»çµ±</a>
<a class="nav-item" href="../Module_07_DataEngine/index.html"><span class="nav-num">07</span> æ•¸æ“šå¼•æ“</a>
<a class="nav-item" href="../Module_08_ExecutionEngine/index.html"><span class="nav-num">08</span>
                    åŸ·è¡Œå¼•æ“</a>
<a class="nav-item" href="../Module_09_RiskEngine/index.html"><span class="nav-num">09</span> é¢¨æ§å¼•æ“</a>
<a class="nav-item" href="../Module_10_Portfolio/index.html"><span class="nav-num">10</span> æŠ•è³‡çµ„åˆ</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬ä¸‰éšæ®µï¼šå¯¦æˆ°æ‡‰ç”¨</div>
</div>
<a class="nav-item" href="../Module_11_Strategy_Development/index.html"><span class="nav-num">11</span>
                    ç­–ç•¥é–‹ç™¼</a>
<a class="nav-item" href="../Module_12_Backtest_And_Live/index.html"><span class="nav-num">12</span>
                    å›æ¸¬èˆ‡å¯¦ç›¤</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬å››éšæ®µï¼šé€²éšæ“´å±•</div>
</div>
<a class="nav-item active" href="index.html"><span class="nav-num">13</span> é©é…å™¨èˆ‡æ“´å±•</a>
<a class="nav-item" href="../Module_14_Configuration/index.html"><span class="nav-num">14</span>
                    é…ç½®ç³»çµ±æ·±æ½›</a>
<a class="nav-item" href="../Module_15_Live_Advanced/index.html"><span class="nav-num">15</span>
                    å¯¦ç›¤éƒ¨ç½²é€²éš</a>
<a class="nav-item" href="../Module_16_Accounting_Risk/index.html"><span class="nav-num">16</span>
                    æœƒè¨ˆèˆ‡é¢¨æ§</a>
<a class="nav-item" href="../Module_17_Advanced_Topics/index.html"><span class="nav-num">17</span>
                    é€²éšä¸»é¡Œ</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬äº”éšæ®µï¼šå‹•æ‰‹ Lab</div>
</div>
<a class="nav-item" href="../Lab_01_Backtest_Workflow/index.html"><span class="nav-num">L1</span> Lab
                    01</a>
<a class="nav-item" href="../Lab_02_Binance_Sandbox/index.html"><span class="nav-num">L2</span> Lab
                    02</a>
<a class="nav-item" href="../Lab_03_Custom_Strategy/index.html"><span class="nav-num">L3</span> Lab
                    03</a>
</div>
</nav>
<div class="main-content">
<div class="top-bar">
<button aria-label="é–‹å•Ÿé¸å–®" class="menu-toggle">â˜°</button>
<div class="breadcrumb"><a href="../index.html">é¦–é </a><span class="separator">â€º</span>ç¬¬å››éšæ®µ<span class="separator">â€º</span>æ¨¡çµ„ 13</div>
</div>
<div class="content-container">
<span class="phase-label phase-4">ç¬¬å››éšæ®µï¼šé€²éšæ“´å±•</span>
<h1>æ¨¡çµ„ 13ï¼šé©é…å™¨èˆ‡æ“´å±•<span class="subtitle">å¦‚ä½•é€£æ¥æ–°çš„äº¤æ˜“æ‰€ã€æ•¸æ“šæºä»¥åŠæ“´å±•ç³»çµ±åŠŸèƒ½</span></h1>
<!-- ==================== -->
<h2>ä¸€ã€é©é…å™¨æ¶æ§‹</h2>
<p>é©é…å™¨ (Adapter) æ˜¯ç³»çµ±èˆ‡å¤–éƒ¨ä¸–ç•Œçš„æ©‹æ¨‘ã€‚éµå¾ª<strong>å…­è§’æ¶æ§‹</strong>ï¼ˆæ¨¡çµ„ 03ï¼‰ï¼Œæ ¸å¿ƒç³»çµ±ä¸ä¾è³´ä»»ä½•å…·é«”çš„äº¤æ˜“æ‰€æˆ–æ•¸æ“šæºã€‚</p>
<div class="mermaid-wrapper">
<div class="mermaid">
                        flowchart LR
                        subgraph core["ğŸ”· NautilusTrader æ ¸å¿ƒ"]
                        direction TB
                        de["DataEngine"]
                        ee["ExecutionEngine"]
                        end

                        subgraph ports["ğŸ“Œ ç«¯å£èˆ‡é©é…å™¨"]
                        direction LR
                        binance["Binance"]
                        ib["Interactive Brokers"]
                        custom["Custom Adapter"]
                        end

                        core ==&gt; ports

                        style core fill:#0f1419,stroke:#4fc3f7,stroke-width:2px
                        style ports fill:#0f1419,stroke:#ab47bc,stroke-width:1px
                    </div>
<div class="caption">åœ– 1ï¼šç«¯å£å’Œé©é…å™¨æ¶æ§‹ â€” æ ¸å¿ƒä¸ä¾è³´å…·é«”é©é…å™¨</div>
</div>
<!-- ==================== -->
<h2>äºŒã€å®˜æ–¹æ”¯æ´çš„é©é…å™¨ï¼ˆ16 å€‹ï¼‰</h2>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>é©é…å™¨</th>
<th>é¡å‹</th>
<th>æ”¯æ´åŠŸèƒ½</th>
<th>å‚™æ³¨</th>
</tr>
</thead>
<tbody>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>Binance</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>ç¾è²¨ + æœŸè²¨ï¼Œæ•¸æ“š + åŸ·è¡Œ</td>
<td>æœ€æˆç†Ÿçš„é©é…å™¨ä¹‹ä¸€</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>Bybit</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>ç¾è²¨ + æ°¸çºŒåˆç´„</td>
<td>æ”¯æ´çµ±ä¸€å¸³æˆ¶</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>OKX</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>ç¾è²¨ + åˆç´„ + æœŸæ¬Š</td>
<td>æ”¯æ´å¤šç¨®å¸³æˆ¶æ¨¡å¼</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>Kraken</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>ç¾è²¨ + åˆç´„</td>
<td>æ­æ´²åˆè¦äº¤æ˜“æ‰€</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>Coinbase INTX</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>æ©Ÿæ§‹ç´šäº¤æ˜“</td>
<td>åŸ Coinbase Pro å‡ç´šç‰ˆ</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>BitMEX</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>æ°¸çºŒåˆç´„ + æœŸè²¨</td>
<td>æ°¸çºŒåˆç´„å…ˆé©…</td>
</tr>
<tr style="border-left: 3px solid var(--accent-cyan);">
<td><strong>Deribit</strong></td>
<td>åŠ å¯†è²¨å¹£</td>
<td>æœŸæ¬Š + æœŸè²¨</td>
<td>æœ€å¤§çš„åŠ å¯†æœŸæ¬Šäº¤æ˜“æ‰€</td>
</tr>
<tr style="border-left: 3px solid #ab47bc;">
<td><strong>dYdX v4</strong></td>
<td>DeFi</td>
<td>å»ä¸­å¿ƒåŒ–æ°¸çºŒåˆç´„</td>
<td>åŸºæ–¼ Cosmos éˆ</td>
</tr>
<tr style="border-left: 3px solid #ab47bc;">
<td><strong>Hyperliquid</strong></td>
<td>DeFi</td>
<td>å»ä¸­å¿ƒåŒ–æ°¸çºŒåˆç´„</td>
<td>é«˜æ•ˆèƒ½ L1 éˆä¸Š DEX</td>
</tr>
<tr style="border-left: 3px solid #ab47bc;">
<td><strong>Polymarket</strong></td>
<td>é æ¸¬å¸‚å ´</td>
<td>äº‹ä»¶åˆç´„äº¤æ˜“</td>
<td>åŸºæ–¼ä»¥å¤ªåŠ</td>
</tr>
<tr style="border-left: 3px solid #4caf50;">
<td><strong>Interactive Brokers</strong></td>
<td>å‚³çµ±é‡‘è</td>
<td>è‚¡ç¥¨ã€æœŸè²¨ã€æœŸæ¬Šã€å¤–åŒ¯</td>
<td>è¦†è“‹æœ€å»£çš„å‚³çµ±åˆ¸å•†</td>
</tr>
<tr style="border-left: 3px solid #4caf50;">
<td><strong>Architect AX</strong></td>
<td>å‚³çµ±é‡‘è</td>
<td>å¤šå¸‚å ´åŸ·è¡Œ</td>
<td>æ©Ÿæ§‹ç´šå¤šè³‡ç”¢åŸ·è¡Œ</td>
</tr>
<tr style="border-left: 3px solid #ff9800;">
<td><strong>Databento</strong></td>
<td>æ•¸æ“šä¾›æ‡‰</td>
<td>ç¾è‚¡/æœŸè²¨æ­·å²+å³æ™‚æ•¸æ“š</td>
<td>å°ˆæ¥­ç´šæ•¸æ“šï¼ˆåƒ…æ•¸æ“šï¼‰</td>
</tr>
<tr style="border-left: 3px solid #ff9800;">
<td><strong>Tardis</strong></td>
<td>æ•¸æ“šä¾›æ‡‰</td>
<td>åŠ å¯†è²¨å¹£æ­·å² Tick æ•¸æ“š</td>
<td>è¦†è“‹ 30+ å€‹äº¤æ˜“æ‰€ï¼ˆåƒ…æ•¸æ“šï¼‰</td>
</tr>
<tr style="border-left: 3px solid #ff9800;">
<td><strong>Betfair</strong></td>
<td>åšå½©</td>
<td>é«”è‚²åšå¼©äº¤æ˜“</td>
<td>ç¨ç‰¹çš„ BettingInstrument</td>
</tr>
<tr style="border-left: 3px solid gray;">
<td><strong>Sandbox</strong></td>
<td>å…§å»º</td>
<td>æ¨¡æ“¬äº¤æ˜“æ‰€</td>
<td>ç”¨æ–¼æ²™ç®±æ¨¡å¼æ¸¬è©¦</td>
</tr>
</tbody>
</table>
</div>
<div class="callout callout-info">
<div class="callout-title">ğŸ’¡ é©é…å™¨çš„ä¸‰ç¨®é¡å‹</div>
<p>ä¸Šè¡¨ä¸­çš„é©é…å™¨åˆ†ä¸‰é¡ï¼š<br/>
<span style="border-left:3px solid var(--accent-cyan); padding-left:6px;"><strong>åŠ å¯†è²¨å¹£</strong></span>ï¼šæä¾›æ•¸æ“š
                        + åŸ·è¡Œï¼Œå¯ä»¥ç›´æ¥äº¤æ˜“<br/>
<span style="border-left:3px solid #ab47bc; padding-left:6px;"><strong>DeFi /
                                é æ¸¬å¸‚å ´</strong></span>ï¼šå»ä¸­å¿ƒåŒ–äº¤æ˜“ï¼Œéœ€è¦éŒ¢åŒ…<br/>
<span style="border-left:3px solid #ff9800; padding-left:6px;"><strong>æ•¸æ“šä¾›æ‡‰ /
                                å…¶ä»–</strong></span>ï¼šåƒ…æä¾›æ•¸æ“šæˆ–ç‰¹æ®Šäº¤æ˜“é¡å‹
                    </p>
</div>
<!-- ==================== -->
<h2>ä¸‰ã€é©é…å™¨çš„å…§éƒ¨çµæ§‹</h2>
<p>æ¯å€‹é©é…å™¨é€šå¸¸åŒ…å«ä»¥ä¸‹çµ„ä»¶ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
                        flowchart LR
                        subgraph clients["ğŸ”Œ å®¢æˆ¶ç«¯å¯¦ç¾"]
                        direction TB
                        dc["BinanceDataClient<br/>(WebSocket)"]
                        ec["BinanceExecClient<br/>(REST API)"]
                        end

                        subgraph internal["ğŸ§© å…§éƒ¨æ©Ÿåˆ¶"]
                        direction TB
                        config["é…ç½®æ˜ å°„"]
                        parsers["æ•¸æ“šè§£æå™¨"]
                        end

                        clients ==&gt; internal

                        style clients fill:#0f1419,stroke:#4fc3f7,stroke-width:1px
                        style internal fill:#0f1419,stroke:#ab47bc,stroke-width:1px
                    </div>
<div class="caption">åœ– 2ï¼šä¸€å€‹å®Œæ•´é©é…å™¨çš„å…§éƒ¨çµ„ä»¶</div>
</div>
<!-- ==================== -->
<h2>å››ã€è‡ªå®šç¾© Actor å’Œ çµ„ä»¶</h2>
<p>é™¤äº†ç­–ç•¥ä¹‹å¤–ï¼Œä½ å¯ä»¥ç”¨ <strong>Actor</strong> ä¾†æ“´å±•ç³»çµ±åŠŸèƒ½ï¼š</p>
<div class="feature-grid">
<div class="feature-card">
<span class="icon">ğŸ“Š</span>
<h4>æ•¸æ“šæ”¶é›†å™¨</h4>
<p>å»ºç«‹è‡ªå®šç¾© Actor å¾ç¬¬ä¸‰æ–¹ APIï¼ˆå¦‚æ–°èã€ç¤¾äº¤åª’é«”ï¼‰æ”¶é›†æ•¸æ“šä¸¦ç™¼å¸ƒåˆ° MessageBusã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ“§</span>
<h4>é€šçŸ¥æœå‹™</h4>
<p>å»ºç«‹ Actor ç›£è½äº¤æ˜“äº‹ä»¶ï¼Œåœ¨æˆäº¤æˆ–è§¸ç™¼æ­¢ææ™‚ç™¼é€ Telegram/Email é€šçŸ¥ã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ“ˆ</span>
<h4>ç¸¾æ•ˆç›£æ§</h4>
<p>å»ºç«‹ Actor è¨‚é–±æ‰€æœ‰è¨‚å–®äº‹ä»¶ï¼Œå³æ™‚è¨ˆç®—å’Œå±•ç¤ºç­–ç•¥ç¸¾æ•ˆã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ”§</span>
<h4>è‡ªå®šç¾©æŒ‡æ¨™</h4>
<p>ç•¶å…§å»ºæŒ‡æ¨™ä¸å¤ ç”¨æ™‚ï¼Œå¯ä»¥ç¹¼æ‰¿ <code>Indicator</code> åŸºé¡å»ºç«‹è‡ªå®šç¾©æŒ‡æ¨™ã€‚</p>
</div>
</div>
<pre><code class="language-python">from nautilus_trader.common.actor import Actor
from nautilus_trader.config import ActorConfig


class AlertActorConfig(ActorConfig, frozen=True):
    """é€šçŸ¥ Actor çš„é…ç½®"""
    instrument_id: InstrumentId
    price_threshold: float  # è§¸ç™¼é€šçŸ¥çš„åƒ¹æ ¼é–¾å€¼


class AlertActor(Actor):
    """ç•¶åƒ¹æ ¼è¶…éé–¾å€¼æ™‚ç™¼é€é€šçŸ¥"""

    def __init__(self, config: AlertActorConfig):
        super().__init__(config)
        self.instrument_id = config.instrument_id
        self.threshold = config.price_threshold

    def on_start(self):
        self.subscribe_quote_ticks(self.instrument_id)

    def on_quote_tick(self, tick):
        if tick.ask_price.as_double() &gt; self.threshold:
            self.log.warning(f"âš ï¸ åƒ¹æ ¼çªç ´ {self.threshold}!")
            # é€™è£¡å¯ä»¥åŠ å…¥ Telegram/Email é€šçŸ¥é‚è¼¯
</code></pre>
<!-- ==================== -->
<h2>äº”ã€æ“´å±•é»ä¸€è¦½</h2>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>æ“´å±•é»</th>
<th>åŸºé¡</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>äº¤æ˜“ç­–ç•¥</td>
<td><code>Strategy</code></td>
<td>å¯¦ç¾äº¤æ˜“é‚è¼¯</td>
</tr>
<tr>
<td>é€šç”¨çµ„ä»¶</td>
<td><code>Actor</code></td>
<td>ä¸æ¶‰åŠä¸‹å–®çš„é€šç”¨é‚è¼¯ï¼ˆç›£æ§ã€é€šçŸ¥ã€æ•¸æ“šæ”¶é›†ï¼‰</td>
</tr>
<tr>
<td>æ•¸æ“šå®¢æˆ¶ç«¯</td>
<td><code>DataClient</code></td>
<td>é€£æ¥æ–°çš„æ•¸æ“šæº</td>
</tr>
<tr>
<td>åŸ·è¡Œå®¢æˆ¶ç«¯</td>
<td><code>ExecutionClient</code></td>
<td>é€£æ¥æ–°çš„äº¤æ˜“æ‰€</td>
</tr>
<tr>
<td>æŠ€è¡“æŒ‡æ¨™</td>
<td><code>Indicator</code></td>
<td>è‡ªå®šç¾©æŠ€è¡“æŒ‡æ¨™è¨ˆç®—</td>
</tr>
<tr>
<td>æ’®åˆæ¨¡å‹</td>
<td><code>FillModel</code></td>
<td>è‡ªå®šç¾©å›æ¸¬æ’®åˆé‚è¼¯</td>
</tr>
</tbody>
</table>
</div>
<!-- ==================== -->
<h2>å…­ã€äº’å‹•ç·´ç¿’</h2>
<div class="exercise-block">
<div class="exercise-title">ğŸ§  ç·´ç¿’ 1ï¼šè¨­è¨ˆä¸€å€‹é€šçŸ¥ Actor</div>
<p>è¨­è¨ˆä¸€å€‹ Actorï¼Œç•¶ä½ çš„ç­–ç•¥çš„æŒå€‰ç›ˆè™§è¶…éå¸³æˆ¶çš„ 5% æ™‚ï¼Œç™¼å‡ºè­¦å‘Šæ—¥èªŒã€‚ä½ éœ€è¦è¨‚é–±ä»€éº¼æ•¸æ“šï¼Ÿè®€å–ä»€éº¼ç·©å­˜ï¼Ÿ</p>
<button class="btn-run" onclick="toggleAnswer('answer-actor13')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
<div class="exercise-output" id="answer-actor13">
<p><strong>è¨­è¨ˆæ€è·¯ï¼š</strong></p>
<ol>
<li><code>on_start</code>:
                                <ul>
<li><code>self.subscribe_quote_ticks(instrument_id)</code> # è¨‚é–±å ±åƒ¹æ›´æ–°</li>
</ul>
</li>
<li><code>on_quote_tick</code>:
                                <ul>
<li><code>unrealized = self.portfolio.unrealized_pnl(instrument_id)</code></li>
<li><code>account = self.cache.account(account_id)</code></li>
<li><code>balance = account.balance_total(Currency.from_str("USDT"))</code></li>
<li><code>pnl_ratio = abs(unrealized / balance)</code></li>
<li><code>if pnl_ratio &gt; 0.05:</code><br/>
<code>Â Â Â Â self.log.warning(f"âš ï¸ æŒå€‰ç›ˆè™§è¶…é 5%: {pnl_ratio:.1%}")</code>
</li>
</ul>
</li>
</ol>
<p><strong>ğŸ’¡ é—œéµé»ï¼š</strong></p>
<ul>
<li>Actor ä¸èƒ½ä¸‹å–®ï¼Œæ‰€ä»¥å®ƒåªè² è²¬ç›£æ§å’Œé€šçŸ¥</li>
<li>å¦‚æœéœ€è¦è‡ªå‹•å¹³å€‰ï¼Œæ‡‰è©²åœ¨ Strategy ä¸­å¯¦ç¾</li>
<li>å¯ä»¥åŠ å…¥å†·å»æœŸï¼Œé¿å…é‡è¤‡å ±è­¦</li>
</ul>
</div>
</div>
<div class="exercise-block">
<div class="exercise-title">ğŸ§  ç·´ç¿’ 2ï¼šé¸æ“‡é©é…å™¨</div>
<p>ä»¥ä¸‹å ´æ™¯ï¼Œä½ æœƒé¸æ“‡å“ªå€‹é©é…å™¨ï¼Ÿ</p>
<ol>
<li>ä½ æƒ³äº¤æ˜“ç¾è‚¡å’ŒæœŸè²¨</li>
<li>ä½ æƒ³äº¤æ˜“ BTC æ°¸çºŒåˆç´„ï¼Œä¸”è²»ç‡è¦ä½</li>
<li>ä½ æƒ³ç”¨æ­·å²çš„åŠ å¯† Tick æ•¸æ“šåšå›æ¸¬</li>
<li>ä½ æƒ³äº¤æ˜“ BTC æœŸæ¬Š</li>
</ol>
<button class="btn-run" onclick="toggleAnswer('answer-choose')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
<div class="exercise-output" id="answer-choose">
<ol>
<li><strong>Interactive Brokers</strong> â† è¦†è“‹æœ€å»£çš„å‚³çµ±å¸‚å ´</li>
<li><strong>Bybit æˆ– Binance</strong> â† å…©è€…éƒ½æ”¯æ´æ°¸çºŒåˆç´„ï¼Œè²»ç‡å…·ç«¶çˆ­åŠ›</li>
<li><strong>Tardis</strong> â† å°ˆæ³¨åŠ å¯†æ­·å²æ•¸æ“šï¼Œè¦†è“‹ 30+ äº¤æ˜“æ‰€</li>
<li><strong>Deribit</strong> â† æœ€å¤§çš„åŠ å¯†æœŸæ¬Šäº¤æ˜“æ‰€</li>
</ol>
<br/>
<div class="callout callout-info" style="margin:0;">
<div class="callout-title">ğŸ’¡ ä¹Ÿå¯ä»¥çµ„åˆä½¿ç”¨ï¼š</div>
<p style="margin-bottom:0;"><strong>Tardis (æ•¸æ“š) + Deribit (åŸ·è¡Œ)</strong> = ç”¨æ­·å²æ•¸æ“šå›æ¸¬ + å¯¦ç›¤äº¤æ˜“</p>
</div>
</div>
</div>
<div class="exercise-block">
<div class="exercise-title">ğŸ§  ç·´ç¿’ 3ï¼šè‡ªå®šç¾©æŒ‡æ¨™è¨­è¨ˆ</div>
<p>ä½ æƒ³å»ºç«‹ä¸€å€‹ã€ŒVWAP åé›¢åº¦ã€æŒ‡æ¨™ï¼šè¨ˆç®—ç•¶å‰åƒ¹æ ¼è· VWAP çš„ç™¾åˆ†æ¯”åå·®ã€‚æƒ³æƒ³ä½ éœ€è¦ç¹¼æ‰¿å“ªå€‹åŸºé¡ï¼Œå¯¦ç¾å“ªäº›æ–¹æ³•ï¼Ÿ</p>
<button class="btn-run" onclick="toggleAnswer('answer-indicator')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
<div class="exercise-output" id="answer-indicator">
<p><strong>è¨­è¨ˆï¼š</strong></p>
<ol>
<li>ç¹¼æ‰¿ <code>Indicator</code> åŸºé¡</li>
<li>å¯¦ç¾ <code>handle_bar(bar)</code> æ–¹æ³•</li>
<li>å…§éƒ¨ç¶­è­·ï¼š
                                <ul>
<li><code>cumulative_volume += bar.volume</code></li>
<li><code>cumulative_value += bar.close * bar.volume</code></li>
<li><code>vwap = cumulative_value / cumulative_volume</code></li>
<li><code>self.value = (bar.close - vwap) / vwap * 100</code></li>
</ul>
</li>
<li>é‡ç½®æ–¹æ³•ï¼š<code>reset()</code> æ¸…é›¶ç´¯è¨ˆå€¼</li>
</ol>
<p><strong>ğŸ’¡ è‡ªå®šç¾©æŒ‡æ¨™å¾ˆå¼·å¤§ï¼š</strong><br/>
                            ä½ å¯ä»¥å»ºç«‹ä»»ä½•æŒ‡æ¨™ï¼Œç„¶å¾Œåœ¨ç­–ç•¥ä¸­åƒç”¨å…§å»ºæŒ‡æ¨™ä¸€æ¨£ä½¿ç”¨å®ƒ</p>
</div>
</div>
<!-- ==================== -->
<h2>ä¸ƒã€æœ¬æ¨¡çµ„é‡é»å›é¡§</h2>
<div class="card">
<div class="card-title">ğŸ“‹ é—œéµé»</div>
<ol>
<li><strong>å…­è§’æ¶æ§‹</strong>ä½¿å¾—æ·»åŠ æ–°é©é…å™¨ä¸éœ€è¦ä¿®æ”¹æ ¸å¿ƒä»£ç¢¼</li>
<li><strong>16 å€‹å®˜æ–¹é©é…å™¨</strong>è¦†è“‹åŠ å¯†è²¨å¹£ã€å‚³çµ±é‡‘èã€DeFiã€åšå½©ã€é æ¸¬å¸‚å ´ã€æ•¸æ“šä¾›æ‡‰</li>
<li><strong>Actor</strong>ï¼šä¸æ¶‰åŠä¸‹å–®çš„é€šç”¨é‚è¼¯çµ„ä»¶</li>
<li><strong>6 å€‹æ“´å±•é»</strong>ï¼šStrategyã€Actorã€DataClientã€ExecutionClientã€Indicatorã€FillModel</li>
<li>æ¯å€‹é©é…å™¨åŒ…å«é…ç½®ã€æ•¸æ“šå®¢æˆ¶ç«¯ã€åŸ·è¡Œå®¢æˆ¶ç«¯ã€è§£æå™¨</li>
</ol>
</div>
<div class="card" style="border-color:var(--accent-gold);">
<div class="card-title">ğŸ‰ æ­å–œï¼ä½ å·²å®Œæˆæ‰€æœ‰ 13 å€‹æ¨¡çµ„</div>
<p>ä½ ç¾åœ¨å° NautilusTrader çš„æ¶æ§‹ã€çµ„ä»¶ã€ç­–ç•¥é–‹ç™¼å’Œéƒ¨ç½²æœ‰äº†å…¨é¢çš„ç†è§£ã€‚<br/>ä¸‹ä¸€æ­¥å»ºè­°ï¼š</p>
<ol>
<li>å¾ <code>ema_cross.py</code> ç¯„ä¾‹é–‹å§‹å‹•æ‰‹å¯¦è¸</li>
<li>ç”¨å›æ¸¬ç³»çµ±æ¸¬è©¦ä½ çš„ç¬¬ä¸€å€‹ç­–ç•¥</li>
<li>åŠ å…¥ NautilusTrader ç¤¾å€ï¼Œé–±è®€å®˜æ–¹æ–‡æª”çš„é€²éšå…§å®¹</li>
</ol>
</div>
<div class="page-nav">
<a href="../Module_12_Backtest_And_Live/index.html"><span class="nav-label">â† ä¸Šä¸€ç« </span><span class="nav-title">æ¨¡çµ„ 12ï¼šå›æ¸¬ç³»çµ±èˆ‡å¯¦ç›¤éƒ¨ç½²</span></a>
<a href="../index.html" style="text-align:right;"><span class="nav-label">å›åˆ°é¦–é  â†’</span><span class="nav-title">NautilusTrader å®Œæ•´æ•™æ</span></a>
</div>
</div>
</div>
</div>
<button aria-label="å›åˆ°é ‚éƒ¨" class="back-to-top">â†‘</button>
<script src="../assets/lecture.js"></script>
</body>
</html>