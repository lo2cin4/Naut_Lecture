<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡çµ„ 16ï¼šæœƒè¨ˆèˆ‡é¢¨æ§æ·±æ½› â€” NautilusTrader æ•™æ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>

<body>
    <div class="page-wrapper">
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo"><span class="icon">ğŸš</span> NautilusTrader æ•™æ</div>
            </div>
            <div class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬é›¶éšæ®µï¼šèµ·æ­¥</div>
                </div>
                <a class="nav-item" href="../Module_00_Getting_Started/index.html"><span class="nav-num">00</span>
                    ç’°å¢ƒå®‰è£</a>
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬ä¸€éšæ®µï¼šå…¨å±€èªè­˜</div>
                </div>
                <a class="nav-item" href="../Module_01_Why_NautilusTrader/index.html"><span class="nav-num">01</span>
                    ç‚ºä»€éº¼é¸æ“‡ NT</a>
                <a class="nav-item" href="../Module_02_Architecture_Overview/index.html"><span class="nav-num">02</span>
                    æ¶æ§‹é³¥ç°åœ–</a>
                <a class="nav-item" href="../Module_03_Design_Philosophy/index.html"><span class="nav-num">03</span>
                    è¨­è¨ˆå“²å­¸</a>
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬äºŒéšæ®µï¼šæ ¸å¿ƒçµ„ä»¶</div>
                </div>
                <a class="nav-item" href="../Module_04_Domain_Model/index.html"><span class="nav-num">04</span> é ˜åŸŸæ¨¡å‹</a>
                <a class="nav-item" href="../Module_05_MessageBus/index.html"><span class="nav-num">05</span> æ¶ˆæ¯ç¸½ç·š</a>
                <a class="nav-item" href="../Module_05B_Data_Management/index.html"><span class="nav-num">05B</span>
                    æ•¸æ“šç®¡ç†</a>
                <a class="nav-item" href="../Module_06_Cache/index.html"><span class="nav-num">06</span> ç·©å­˜ç³»çµ±</a>
                <a class="nav-item" href="../Module_07_DataEngine/index.html"><span class="nav-num">07</span> æ•¸æ“šå¼•æ“</a>
                <a class="nav-item" href="../Module_08_ExecutionEngine/index.html"><span class="nav-num">08</span>
                    åŸ·è¡Œå¼•æ“</a>
                <a class="nav-item" href="../Module_09_RiskEngine/index.html"><span class="nav-num">09</span> é¢¨æ§å¼•æ“</a>
                <a class="nav-item" href="../Module_10_Portfolio/index.html"><span class="nav-num">10</span> æŠ•è³‡çµ„åˆ</a>
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬ä¸‰éšæ®µï¼šå¯¦æˆ°æ‡‰ç”¨</div>
                </div>
                <a class="nav-item" href="../Module_11_Strategy_Development/index.html"><span class="nav-num">11</span>
                    ç­–ç•¥é–‹ç™¼</a>
                <a class="nav-item" href="../Module_12_Backtest_And_Live/index.html"><span class="nav-num">12</span>
                    å›æ¸¬èˆ‡å¯¦ç›¤</a>
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬å››éšæ®µï¼šé€²éšæ“´å±•</div>
                </div>
                <a class="nav-item" href="../Module_13_Adapters_Extensions/index.html"><span class="nav-num">13</span>
                    é©é…å™¨èˆ‡æ“´å±•</a>
                <a class="nav-item" href="../Module_14_Configuration/index.html"><span class="nav-num">14</span>
                    é…ç½®ç³»çµ±æ·±æ½›</a>
                <a class="nav-item" href="../Module_15_Live_Advanced/index.html"><span class="nav-num">15</span>
                    å¯¦ç›¤éƒ¨ç½²é€²éš</a>
                <a class="nav-item active" href="index.html"><span class="nav-num">16</span> æœƒè¨ˆèˆ‡é¢¨æ§</a>
                <a class="nav-item" href="../Module_17_Advanced_Topics/index.html"><span class="nav-num">17</span>
                    é€²éšä¸»é¡Œ</a>
                <div class="nav-section">
                    <div class="nav-section-title">ç¬¬äº”éšæ®µï¼šå‹•æ‰‹ Lab</div>
                </div>
                <a class="nav-item" href="../Lab_01_Backtest_Workflow/index.html"><span class="nav-num">L1</span> Lab 01</a>
                <a class="nav-item" href="../Lab_02_Binance_Sandbox/index.html"><span class="nav-num">L2</span> Lab 02</a>
                <a class="nav-item" href="../Lab_03_Custom_Strategy/index.html"><span class="nav-num">L3</span> Lab 03</a>
            </div>
        </nav>

        <div class="main-content">
            <div class="top-bar">
                <button class="menu-toggle" aria-label="é–‹å•Ÿé¸å–®">â˜°</button>
                <div class="breadcrumb"><a href="../index.html">é¦–é </a><span class="separator">â€º</span>ç¬¬å››éšæ®µ<span
                        class="separator">â€º</span>æ¨¡çµ„ 16</div>
            </div>
            <div class="content-container">

                <span class="phase-label phase-4">ç¬¬å››éšæ®µï¼šé€²éšæ“´å±•</span>
                <h1>æ¨¡çµ„ 16ï¼šæœƒè¨ˆèˆ‡é¢¨æ§æ·±æ½›<span class="subtitle">ç†è§£å¸³æˆ¶æ¨¡å‹ã€ä¿è­‰é‡‘è¨ˆç®—ã€æ‰‹çºŒè²»çµæ§‹ â€” ä½ çš„éŒ¢åˆ°åº•æ˜¯æ€éº¼ç®—çš„</span></h1>

                <!-- ==================== -->
                <h2>ä¸€ã€ç‚ºä»€éº¼éœ€è¦ç†è§£æœƒè¨ˆç³»çµ±ï¼Ÿ</h2>

                <div class="callout callout-info">
                    <div class="callout-title">ğŸ’¡ æœƒè¨ˆä¸åªæ˜¯ã€Œç®—å¸³ã€</div>
                    <p><strong>âŒ å¸¸è¦‹èª¤è§£</strong>ï¼šã€Œæˆ‘åªè¦çŸ¥é“ç›ˆè™§å°±å¥½ï¼Œæœƒè¨ˆæ˜¯äº¤æ˜“æ‰€çš„äº‹ã€ã€‚</p>
                    <p><strong>âœ… çœŸç›¸</strong>ï¼šå¦‚æœå›æ¸¬ä¸­çš„ä¿è­‰é‡‘è¨ˆç®—å’ŒçœŸå¯¦äº¤æ˜“æ‰€ä¸åŒï¼Œä½ çš„ç­–ç•¥å¯èƒ½åœ¨å›æ¸¬ä¸­èƒ½é–‹ 10 å€æ§“æ¡¿ï¼Œå¯¦ç›¤å»åªèƒ½é–‹ 3 å€ â€”
                        å›æ¸¬çµæœå®Œå…¨ä¸å…·åƒè€ƒåƒ¹å€¼ã€‚NautilusTrader çš„ <code>accounting/</code> æ¨¡çµ„å°±æ˜¯ç‚ºäº†ç¢ºä¿<strong>å›æ¸¬å’Œå¯¦ç›¤çš„å¸³æˆ¶è¡Œç‚ºä¸€è‡´</strong>ã€‚
                    </p>
                </div>

                <!-- ==================== -->
                <h2>äºŒã€CashAccount vs MarginAccount</h2>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ç‰¹å¾µ</th>
                                <th>CashAccount ç¾è²¨å¸³æˆ¶</th>
                                <th>MarginAccount ä¿è­‰é‡‘å¸³æˆ¶</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>æ§“æ¡¿</strong></td>
                                <td>1xï¼ˆç„¡æ§“æ¡¿ï¼‰</td>
                                <td>å¯é” 125xï¼ˆä¾äº¤æ˜“æ‰€ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>ä¸‹å–®å‰æª¢æŸ¥</strong></td>
                                <td>ç¾é‡‘é¤˜é¡ â‰¥ è¨‚å–®æˆæœ¬</td>
                                <td>å¯ç”¨ä¿è­‰é‡‘ â‰¥ åˆå§‹ä¿è­‰é‡‘</td>
                            </tr>
                            <tr>
                                <td><strong>åšç©º</strong></td>
                                <td>âŒ ä¸èƒ½</td>
                                <td>âœ… å¯ä»¥</td>
                            </tr>
                            <tr>
                                <td><strong>å¼·åˆ¶å¹³å€‰</strong></td>
                                <td>âŒ ä¸æœƒ</td>
                                <td>âœ… ä¿è­‰é‡‘ä¸è¶³æ™‚è§¸ç™¼</td>
                            </tr>
                            <tr>
                                <td><strong>é©ç”¨å ´æ™¯</strong></td>
                                <td>è‚¡ç¥¨ç¾è²¨ã€åŠ å¯†è²¨å¹£ç¾è²¨</td>
                                <td>æœŸè²¨ã€åŠ å¯†è²¨å¹£åˆç´„ã€å¤–åŒ¯</td>
                            </tr>
                            <tr>
                                <td><strong>NautilusTrader é¡</strong></td>
                                <td><code>CashAccount</code></td>
                                <td><code>MarginAccount</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>å¸³æˆ¶é¤˜é¡çµæ§‹</h3>
                <pre><code class="language-python"># CashAccount çš„é¤˜é¡
account.balance_total(Currency.from_str("USDT"))    # ç¸½é¤˜é¡
account.balance_free(Currency.from_str("USDT"))     # å¯ç”¨é¤˜é¡
account.balance_locked(Currency.from_str("USDT"))   # å‡çµé¤˜é¡ï¼ˆæ›å–®ä½”ç”¨ï¼‰

# MarginAccount çš„é¡å¤–å±¬æ€§
margin_account.initial_margins()      # å„å“ç¨®çš„åˆå§‹ä¿è­‰é‡‘
margin_account.maintenance_margins()  # å„å“ç¨®çš„ç¶­æŒä¿è­‰é‡‘

# â— é‡è¦æ¦‚å¿µ
# å¯ç”¨ä¿è­‰é‡‘ = ç¸½é¤˜é¡ - å‡çµ - åˆå§‹ä¿è­‰é‡‘
# å¦‚æœ ç¸½é¤˜é¡ < ç¶­æŒä¿è­‰é‡‘ â†’ å¼·åˆ¶å¹³å€‰ï¼</code></pre>

                <!-- ==================== -->
                <h2>ä¸‰ã€ä¿è­‰é‡‘æ¨¡å‹ï¼ˆMarginModelï¼‰</h2>

                <div class="mermaid-wrapper">
                    <div class="mermaid">
                        flowchart LR
                        order["ğŸ“ ä¸‹å–®è«‹æ±‚"]
                        calc["ğŸ’° è¨ˆç®—åˆå§‹ä¿è­‰é‡‘"]
                        check["âœ… ä¿è­‰é‡‘å……è¶³ï¼Ÿ"]
                        submit["â¡ï¸ æäº¤è¨‚å–®"]
                        reject["âŒ æ‹’çµ•è¨‚å–®"]

                        order --> calc
                        calc --> check
                        check -->|æ˜¯| submit
                        check -->|å¦| reject

                        style order fill:#0f1419,stroke:#4fc3f7,stroke-width:2px
                        style reject fill:#0f1419,stroke:#f44336,stroke-width:2px
                        style submit fill:#0f1419,stroke:#4caf50,stroke-width:2px
                    </div>
                    <div class="caption">åœ– 1ï¼šä¿è­‰é‡‘æª¢æŸ¥æµç¨‹</div>
                </div>

                <pre><code class="language-python"># å›æ¸¬ä¸­é…ç½®ä¿è­‰é‡‘
from nautilus_trader.backtest.engine import BacktestEngine
from nautilus_trader.model.enums import AccountType

engine = BacktestEngine()
engine.add_venue(
    venue=Venue("BINANCE"),
    oms_type=OmsType.NETTING,          # æ·¨å€‰æ¨¡å¼
    account_type=AccountType.MARGIN,    # ä¿è­‰é‡‘å¸³æˆ¶
    starting_balances=[
        Money(100_000, Currency.from_str("USDT")),
    ],
    leverages={                         # æ§“æ¡¿è¨­å®š
        InstrumentId.from_str("BTCUSDT-PERP.BINANCE"): Decimal("10"),
        InstrumentId.from_str("ETHUSDT-PERP.BINANCE"): Decimal("20"),
    },
    default_leverage=Decimal("1"),      # é è¨­æ§“æ¡¿
)</code></pre>

                <div class="callout callout-warning">
                    <div class="callout-title">âš ï¸ OMS Type å¾ˆé‡è¦</div>
                    <p><strong>HEDGINGï¼ˆå°æ²–æ¨¡å¼ï¼‰</strong>ï¼šåŒä¸€å“ç¨®å¯ä»¥åŒæ™‚æŒæœ‰å¤šç©ºå€‰ä½ï¼ˆå¦‚å¤–åŒ¯ MT4ï¼‰ï¼Œæ¯æ¬¡é–‹å€‰éƒ½æ˜¯ç¨ç«‹æŒå€‰ã€‚<br>
                        <strong>NETTINGï¼ˆæ·¨å€‰æ¨¡å¼ï¼‰</strong>ï¼šåŒä¸€å“ç¨®åªæœ‰ä¸€å€‹æ·¨æŒå€‰ï¼ˆå¦‚ Binance åˆç´„ï¼‰ï¼Œè²·1æ‰‹å†è³£1æ‰‹ = å¹³å€‰ã€‚<br>
                        é¸éŒ¯æ¨¡å¼æœƒå°è‡´å›æ¸¬è¡Œç‚ºå’Œå¯¦ç›¤ä¸ä¸€è‡´ï¼
                    </p>
                </div>

                <!-- ==================== -->
                <h2>å››ã€æ‰‹çºŒè²»çµæ§‹ï¼ˆFeeModelï¼‰</h2>

                <pre><code class="language-python">from nautilus_trader.backtest.models import FeeModel, MakerTakerFeeModel

# æ–¹æ³• 1ï¼šä½¿ç”¨å…§å»ºçš„ Maker/Taker æ¨¡å‹
fee_model = MakerTakerFeeModel(
    maker_fee=Decimal("0.0002"),   # Maker æ‰‹çºŒè²» 0.02%
    taker_fee=Decimal("0.0005"),   # Taker æ‰‹çºŒè²» 0.05%
)

# åœ¨å›æ¸¬é…ç½®ä¸­ä½¿ç”¨
engine.add_venue(
    venue=Venue("BINANCE"),
    fee_model=fee_model,
    # ...
)</code></pre>

                <div class="callout callout-info">
                    <div class="callout-title">ğŸ’¡ Maker vs Taker æ‰‹çºŒè²»</div>
                    <p><strong>Makerï¼ˆæ›å–®ï¼‰</strong>ï¼šä½ æ›é™åƒ¹å–®ç­‰å¾…æˆäº¤ï¼Œç‚ºå¸‚å ´æä¾›æµå‹•æ€§ â†’ æ‰‹çºŒè²»ä½ç”šè‡³è¿”ä½£ã€‚<br>
                        <strong>Takerï¼ˆåƒå–®ï¼‰</strong>ï¼šä½ ç›´æ¥å¸‚åƒ¹æˆäº¤æˆ–ã€Œç©¿éã€æ›å–®åƒå–® â†’ æ‰‹çºŒè²»é«˜ã€‚<br><br>
                        <strong>âŒ å¸¸è¦‹éŒ¯èª¤</strong>ï¼šå›æ¸¬æ™‚åªç”¨ Taker è²»ç‡ï¼Œä½†ç­–ç•¥å¤§é‡ä½¿ç”¨é™åƒ¹å–® â†’ é«˜ä¼°äº†äº¤æ˜“æˆæœ¬ â†’ å¯èƒ½æ”¾æ£„äº†æœ¬è©²ç›ˆåˆ©çš„ç­–ç•¥ã€‚
                    </p>
                </div>

                <!-- ==================== -->
                <h2>äº”ã€å¤šå¹£ç¨® Portfolio</h2>

                <pre><code class="language-python"># NautilusTrader åŸç”Ÿæ”¯æŒå¤šå¹£ç¨®
engine.add_venue(
    venue=Venue("BINANCE"),
    starting_balances=[
        Money(50_000, Currency.from_str("USDT")),
        Money(2, Currency.from_str("BTC")),
        Money(30, Currency.from_str("ETH")),
    ],
)

# åœ¨ç­–ç•¥ä¸­æŸ¥è©¢å„å¹£ç¨®é¤˜é¡
class MyStrategy(Strategy):
    def on_start(self):
        account = self.portfolio.account(self.instrument_id.venue)

        usdt = account.balance_total(Currency.from_str("USDT"))
        btc = account.balance_total(Currency.from_str("BTC"))
        eth = account.balance_total(Currency.from_str("ETH"))

        self.log.info(f"USDT: {usdt}, BTC: {btc}, ETH: {eth}")

        # æœªå¯¦ç¾ç›ˆè™§ï¼ˆæŒ‰åŸºç¤è²¨å¹£è¨ˆç®—ï¼‰
        unrealized = self.portfolio.unrealized_pnl(self.instrument_id)
        self.log.info(f"æœªå¯¦ç¾ PnL: {unrealized}")
</code></pre>

                <!-- ==================== -->
                <h2>å…­ã€é¢¨æ§å¼•æ“é€²éš</h2>
                <p>æ¨¡çµ„ 09 ä»‹ç´¹äº†é¢¨æ§çš„åŸºç¤ã€‚é€™è£¡æ·±å…¥é€²éšé…ç½®ï¼š</p>

                <h3>6.1 çµ„ä»¶ç´šé¢¨æ§è¦å‰‡</h3>
                <pre><code class="language-python">from nautilus_trader.risk.engine import RiskEngine

# é¢¨æ§è¦å‰‡ç¤ºä¾‹
risk_config = LiveRiskEngineConfig(
    bypass=False,

    # è¨‚å–®é »ç‡é™åˆ¶
    max_order_submit_rate="100/00:00:01",     # æ¯ç§’æœ€å¤š 100 å–®
    max_order_modify_rate="100/00:00:01",     # æ¯ç§’æœ€å¤šä¿®æ”¹ 100 æ¬¡

    # æ·¨å€‰ä½ä¸Šé™ï¼ˆæ¯å€‹å“ç¨®ï¼‰
    max_notional_per_order={
        "BTCUSDT-PERP.BINANCE": 100_000,      # å–®ç­†æœ€å¤š 10 è¬ USDT
    },
)</code></pre>

                <h3>6.2 è‡ªå®šç¾©é¢¨æ§è¦å‰‡</h3>
                <pre><code class="language-python">from nautilus_trader.trading.strategy import Strategy

class RiskManagedStrategy(Strategy):
    """åœ¨ç­–ç•¥å±¤é¢åŠ å…¥é¡å¤–é¢¨æ§"""

    def _check_risk_limits(self) -> bool:
        """æª¢æŸ¥æ˜¯å¦å…è¨±ç¹¼çºŒäº¤æ˜“"""

        # 1. ç•¶æ—¥è™§æä¸Šé™
        account = self.portfolio.account(self.instrument_id.venue)
        if self._daily_pnl < Money(-5000, USD):
            self.log.warning("ç•¶æ—¥è™§æè¶…é $5000ï¼Œåœæ­¢äº¤æ˜“")
            return False

        # 2. æœ€å¤§æŒå€‰æ•¸é‡
        positions = self.cache.positions(venue=self.instrument_id.venue)
        if len(positions) >= 5:
            self.log.warning("å·²é”æœ€å¤§æŒå€‰æ•¸é‡ 5")
            return False

        # 3. æœ€å¤§ç›¸é—œæ€§ï¼ˆåŒæ–¹å‘æŒå€‰ï¼‰
        long_count = sum(1 for p in positions if p.is_long)
        if long_count >= 3:
            self.log.warning("å¤ªå¤šåŒå‘æŒå€‰ï¼Œé¢¨éšªé›†ä¸­")
            return False

        return True

    def on_bar(self, bar):
        if not self._check_risk_limits():
            return
        # æ­£å¸¸äº¤æ˜“é‚è¼¯...
</code></pre>

                <!-- ==================== -->
                <h2>ä¸ƒã€äº’å‹•ç·´ç¿’</h2>
                <div class="exercise-block">
                    <div class="exercise-title">ğŸ§  ç·´ç¿’ 1ï¼šå¸³æˆ¶é¡å‹é¸æ“‡</div>
                    <p>ä½ è¦äº¤æ˜“ä»¥ä¸‹å“ç¨®ï¼Œæ‡‰è©²ç”¨ä»€éº¼å¸³æˆ¶é¡å‹å’Œ OMSï¼Ÿ</p>
                    <ol>
                        <li>Binance BTCUSDT ç¾è²¨</li>
                        <li>Binance BTCUSDT æ°¸çºŒåˆç´„</li>
                        <li>Interactive Brokers ç¾è‚¡</li>
                    </ol>
                    <button class="btn-run" onclick="toggleAnswer('answer-account')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
                    <div class="exercise-output" id="answer-account">1. Binance BTCUSDT ç¾è²¨
                        å¸³æˆ¶ï¼šCashAccountï¼ˆç„¡æ§“æ¡¿ï¼‰
                        OMSï¼šNETTINGï¼ˆåŠ å¯†ç¾è²¨é€šå¸¸æ˜¯æ·¨å€‰ï¼‰

                        2. Binance BTCUSDT æ°¸çºŒåˆç´„
                        å¸³æˆ¶ï¼šMarginAccountï¼ˆæœ‰æ§“æ¡¿ï¼‰
                        OMSï¼šNETTINGï¼ˆBinance åˆç´„æ˜¯æ·¨å€‰ï¼‰
                        æ§“æ¡¿ï¼šè‡ªè¡Œè¨­å®šï¼ˆ1x-125xï¼‰

                        3. Interactive Brokers ç¾è‚¡
                        å¸³æˆ¶ï¼šMarginAccountï¼ˆIB æä¾›èè³‡ï¼‰
                        OMSï¼šNETTINGï¼ˆç¾è‚¡æ˜¯æ·¨å€‰ï¼‰
                        æ³¨æ„ï¼šIB ä¿è­‰é‡‘è¨ˆç®—è¤‡é›œï¼Œéœ€è¦ç†Ÿæ‚‰ Reg-T è¦å‰‡</div>
                </div>

                <div class="exercise-block">
                    <div class="exercise-title">ğŸ§  ç·´ç¿’ 2ï¼šæ‰‹çºŒè²»è¨ˆç®—</div>
                    <p>Maker 0.02%, Taker 0.05%ã€‚ä½ ç”¨é™åƒ¹å–®è²·å…¥ 1 BTC @ $60,000ï¼Œå†ç”¨å¸‚åƒ¹å–®è³£å‡ºï¼š</p>
                    <ol>
                        <li>è²·å…¥æ‰‹çºŒè²»æ˜¯å¤šå°‘ USDTï¼Ÿ</li>
                        <li>è³£å‡ºæ‰‹çºŒè²»æ˜¯å¤šå°‘ USDTï¼Ÿ</li>
                        <li>å¦‚æœ BTC æ¼²åˆ° $60,100 æ™‚è³£å‡ºï¼Œæ‰£é™¤æ‰‹çºŒè²»å¾Œå¯¦éš›ç›ˆè™§ï¼Ÿ</li>
                    </ol>
                    <button class="btn-run" onclick="toggleAnswer('answer-fee')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
                    <div class="exercise-output" id="answer-fee">1. è²·å…¥ï¼ˆé™åƒ¹å–® = Makerï¼‰ï¼š
                        $60,000 Ã— 0.02% = $12 USDT

                        2. è³£å‡ºï¼ˆå¸‚åƒ¹å–® = Takerï¼‰ï¼š
                        $60,100 Ã— 0.05% = $30.05 USDT

                        3. å¯¦éš›ç›ˆè™§ï¼š
                        æ¯›åˆ©ï¼š$60,100 - $60,000 = $100
                        æ‰‹çºŒè²»ï¼š$12 + $30.05 = $42.05
                        æ·¨åˆ©ï¼š$100 - $42.05 = $57.95 USDT

                        ğŸ’¡ å¦‚æœå›æ¸¬æ²’æ¨¡æ“¬æ‰‹çºŒè²»ï¼Œæœƒä»¥ç‚ºè³ºäº† $100ï¼
                        å¯¦éš›åªè³º $57.95 â€” å·®äº† 42%</div>
                </div>

                <div class="exercise-block">
                    <div class="exercise-title">ğŸ§  ç·´ç¿’ 3ï¼šè¨­è¨ˆé¢¨æ§è¦å‰‡</div>
                    <p>ä½ ç®¡ç† $100,000 çš„å¸³æˆ¶ï¼Œè¨­è¨ˆåˆç†çš„é¢¨æ§åƒæ•¸ï¼ˆæ¯æ—¥è™§æä¸Šé™ã€å–®ç­†æœ€å¤§é‡‘é¡ã€æœ€å¤§æŒå€‰æ•¸é‡ã€æ¯ç§’æœ€å¤§ä¸‹å–®æ•¸ï¼‰ã€‚</p>
                    <button class="btn-run" onclick="toggleAnswer('answer-risk')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
                    <div class="exercise-output" id="answer-risk">ä¿å®ˆå‹é¢¨æ§è¨­è¨ˆï¼ˆ$100,000 å¸³æˆ¶ï¼‰ï¼š

                        1. æ¯æ—¥è™§æä¸Šé™ï¼š$2,000 (2%)
                        ç†ç”±ï¼šè¶…å¸¸è™§æé€šå¸¸æ„å‘³è‘—å¸‚å ´ç•°å¸¸æˆ–ç­–ç•¥å¤±æ•ˆ
                        è¨­å®šå¾Œç•¶æ—¥ä¸å†é–‹æ–°å€‰

                        2. å–®ç­†æœ€å¤§é‡‘é¡ï¼š$10,000 (10%)
                        ç†ç”±ï¼šé¿å…å–®ä¸€äº¤æ˜“æ‰¿æ“”éå¤§é¢¨éšª

                        3. æœ€å¤§æŒå€‰æ•¸é‡ï¼š5 å€‹å“ç¨®
                        ç†ç”±ï¼šåˆ†æ•£é¢¨éšªï¼Œä½†ä¸è¦å¤ªå¤šå°è‡´ç®¡ç†å›°é›£

                        4. æ¯ç§’æœ€å¤§ä¸‹å–®ï¼š10 å–®
                        ç†ç”±ï¼šæ­£å¸¸ç­–ç•¥ä¸éœ€è¦æ¯ç§’ä¸‹å¾ˆå¤šå–®
                        å¦‚æœè¶…é â†’ å¯èƒ½æ˜¯ä»£ç¢¼ bug

                        5. æœ€å¤§æ§“æ¡¿ï¼š3x
                        ç†ç”±ï¼š3x å·²ç¶“æ„å‘³è‘— 30% çš„åå‘æ³¢å‹•æœƒæ¸…é›¶

                        é™„åŠ è¦å‰‡ï¼š
                        - åŒå‘æŒå€‰ä¸è¶…é 3 å€‹ï¼ˆé¿å…é¢¨éšªé›†ä¸­ï¼‰
                        - æ–°ç­–ç•¥ä¸Šç·šç¬¬ä¸€é€±é™åˆ¶ç‚ºä¸€åŠå€‰ä½</div>
                </div>

                <h2>å…«ã€æœ¬æ¨¡çµ„é‡é»å›é¡§</h2>
                <div class="card">
                    <div class="card-title">ğŸ“‹ é—œéµé»</div>
                    <ol>
                        <li><strong>CashAccount vs MarginAccount</strong>ï¼šç¾è²¨ç”¨ Cashï¼Œåˆç´„/æœŸè²¨ç”¨ Margin</li>
                        <li><strong>OMS é¡å‹</strong>ï¼šNETTINGï¼ˆæ·¨å€‰ï¼‰å’Œ HEDGINGï¼ˆå°æ²–ï¼‰ï¼Œé¸éŒ¯æœƒå°è‡´å›æ¸¬ä¸æº–</li>
                        <li><strong>ä¿è­‰é‡‘ä¸‰å±¤</strong>ï¼šç¸½é¤˜é¡ > åˆå§‹ä¿è­‰é‡‘ > ç¶­æŒä¿è­‰é‡‘ï¼Œä½æ–¼ç¶­æŒ â†’ å¼·åˆ¶å¹³å€‰</li>
                        <li><strong>Maker/Taker æ‰‹çºŒè²»</strong>ï¼šæ­£ç¢ºæ¨¡æ“¬æ‰‹çºŒè²»å°å›æ¸¬æº–ç¢ºæ€§è‡³é—œé‡è¦</li>
                        <li><strong>å¤šå¹£ç¨®</strong>ï¼šPortfolio åŸç”Ÿæ”¯æŒå¤šå¹£ç¨®é¤˜é¡å’Œç›ˆè™§è¨ˆç®—</li>
                        <li><strong>ç­–ç•¥ç´šé¢¨æ§</strong>ï¼šå¯ä»¥åœ¨ Strategy ä¸­åŠ å…¥è‡ªå®šç¾©é¢¨æ§è¦å‰‡ä½œç‚ºé¡å¤–ä¿è­·å±¤</li>
                    </ol>
                </div>

                <div class="page-nav">
                    <a href="../Module_15_Live_Advanced/index.html"><span class="nav-label">â† ä¸Šä¸€ç« </span><span
                            class="nav-title">æ¨¡çµ„ 15ï¼šå¯¦ç›¤éƒ¨ç½²é€²éš</span></a>
                    <a href="../Module_17_Advanced_Topics/index.html" style="text-align:right;"><span
                            class="nav-label">ä¸‹ä¸€ç«  â†’</span><span class="nav-title">æ¨¡çµ„ 17ï¼šé€²éšä¸»é¡Œ</span></a>
                </div>
            </div>
        </div>
    </div>
    <button class="back-to-top" aria-label="å›åˆ°é ‚éƒ¨">â†‘</button>
    <script src="../assets/lecture.js"></script>
</body>

</html>