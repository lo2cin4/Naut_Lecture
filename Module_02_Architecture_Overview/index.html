<!DOCTYPE html>

<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>æ¨¡çµ„ 02ï¼šæ•´é«”æ¶æ§‹é³¥ç°åœ– â€” NautilusTrader æ•™æ</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Noto+Sans+TC:wght@300;400;500;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="../assets/style.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
<!-- Language Toggle -->
<style>
.lang-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    background: rgba(43, 48, 59, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 6px 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    text-decoration: none;
    color: var(--text-secondary, #A0AEC0);
    font-size: 0.9rem;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.lang-toggle:hover {
    background: rgba(60, 65, 75, 0.9);
    color: var(--text-primary, #F7FAFC);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}
.lang-toggle span.active {
    color: #64ffda;
    font-weight: 600;
}
.lang-toggle svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
}
</style>
<a class="lang-toggle" href="../en/Module_02_Architecture_Overview/index.html" title="Switch to English">
<svg viewbox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>
<span>EN / <span class="active">ä¸­</span></span>
</a>

<!-- Language Toggle -->


<div class="page-wrapper">
<!-- å´é‚Šæ¬„ -->
<nav class="sidebar">
<div class="sidebar-header">
<div class="sidebar-logo"><span class="icon">ğŸš</span> NautilusTrader æ•™æ</div>
</div>
<div class="sidebar-nav">
<div class="nav-section">
<div class="nav-section-title">ç¬¬é›¶éšæ®µï¼šèµ·æ­¥</div>
</div>
<a class="nav-item" href="../Module_00_Getting_Started/index.html"><span class="nav-num">00</span> ç’°å¢ƒå®‰è£</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬ä¸€éšæ®µï¼šå…¨å±€èªè­˜</div>
</div>
<a class="nav-item" href="../Module_01_Why_NautilusTrader/index.html"><span class="nav-num">01</span> ç‚ºä»€éº¼é¸æ“‡
          NautilusTrader</a>
<a class="nav-item active" href="index.html"><span class="nav-num">02</span> æ•´é«”æ¶æ§‹é³¥ç°åœ–</a>
<a class="nav-item" href="../Module_03_Design_Philosophy/index.html"><span class="nav-num">03</span>
          è¨­è¨ˆå“²å­¸èˆ‡å“è³ªå±¬æ€§</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬äºŒéšæ®µï¼šæ ¸å¿ƒçµ„ä»¶</div>
</div>
<a class="nav-item" href="../Module_04_Domain_Model/index.html"><span class="nav-num">04</span> é ˜åŸŸæ¨¡å‹</a>
<a class="nav-item" href="../Module_05_MessageBus/index.html"><span class="nav-num">05</span> æ¶ˆæ¯ç¸½ç·š</a>
<a class="nav-item" href="../Module_05B_Data_Management/index.html"><span class="nav-num">05B</span> æ•¸æ“šç®¡ç†</a>
<a class="nav-item" href="../Module_06_Cache/index.html"><span class="nav-num">06</span> ç·©å­˜ç³»çµ±</a>
<a class="nav-item" href="../Module_07_DataEngine/index.html"><span class="nav-num">07</span> æ•¸æ“šå¼•æ“</a>
<a class="nav-item" href="../Module_08_ExecutionEngine/index.html"><span class="nav-num">08</span> åŸ·è¡Œå¼•æ“</a>
<a class="nav-item" href="../Module_09_RiskEngine/index.html"><span class="nav-num">09</span> é¢¨æ§å¼•æ“</a>
<a class="nav-item" href="../Module_10_Portfolio/index.html"><span class="nav-num">10</span> æŠ•è³‡çµ„åˆ</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬ä¸‰éšæ®µï¼šå¯¦æˆ°æ‡‰ç”¨</div>
</div>
<a class="nav-item" href="../Module_11_Strategy_Development/index.html"><span class="nav-num">11</span> ç­–ç•¥é–‹ç™¼</a>
<a class="nav-item" href="../Module_12_Backtest_And_Live/index.html"><span class="nav-num">12</span> å›æ¸¬èˆ‡å¯¦ç›¤</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬å››éšæ®µï¼šé€²éšæ“´å±•</div>
</div>
<a class="nav-item" href="../Module_13_Adapters_Extensions/index.html"><span class="nav-num">13</span>
          é©é…å™¨èˆ‡æ“´å±•</a>
<a class="nav-item" href="../Module_14_Configuration/index.html"><span class="nav-num">14</span> é…ç½®ç³»çµ±æ·±æ½›</a>
<a class="nav-item" href="../Module_15_Live_Advanced/index.html"><span class="nav-num">15</span> å¯¦ç›¤éƒ¨ç½²é€²éš</a>
<a class="nav-item" href="../Module_16_Accounting_Risk/index.html"><span class="nav-num">16</span> æœƒè¨ˆèˆ‡é¢¨æ§</a>
<a class="nav-item" href="../Module_17_Advanced_Topics/index.html"><span class="nav-num">17</span> é€²éšä¸»é¡Œ</a>
<div class="nav-section">
<div class="nav-section-title">ç¬¬äº”éšæ®µï¼šå‹•æ‰‹ Lab</div>
</div>
<a class="nav-item" href="../Lab_01_Backtest_Workflow/index.html"><span class="nav-num">L1</span> Lab 01</a>
<a class="nav-item" href="../Lab_02_Binance_Sandbox/index.html"><span class="nav-num">L2</span> Lab 02</a>
<a class="nav-item" href="../Lab_03_Custom_Strategy/index.html"><span class="nav-num">L3</span> Lab 03</a>
</div>
</nav>
<!-- ä¸»å…§å®¹ -->
<div class="main-content">
<div class="top-bar">
<button aria-label="é–‹å•Ÿé¸å–®" class="menu-toggle">â˜°</button>
<div class="breadcrumb">
<a href="../index.html">é¦–é </a><span class="separator">â€º</span>ç¬¬ä¸€éšæ®µ<span class="separator">â€º</span>æ¨¡çµ„ 02
        </div>
</div>
<div class="content-container">
<span class="phase-label phase-1">ç¬¬ä¸€éšæ®µï¼šå…¨å±€èªè­˜</span>
<h1>æ¨¡çµ„ 02ï¼šæ•´é«”æ¶æ§‹é³¥ç°åœ–<span class="subtitle">åœ¨é–‹å§‹ç´°ç¯€ä¹‹å‰ï¼Œå…ˆçœ‹æ¸…æ•´å€‹ç³»çµ±çš„å…¨è²Œ</span></h1>
<!-- ==================== -->
<h2>ä¸€ã€ç³»çµ±çš„ã€Œä¸€å¥è©±ã€ç¸½çµ</h2>
<p>NautilusTrader æœ¬è³ªä¸Šæ˜¯ä¸€å€‹<strong>äº‹ä»¶é©…å‹•çš„äº¤æ˜“ç³»çµ±æ¡†æ¶</strong>ã€‚å®ƒçš„æ ¸å¿ƒå¯ä»¥ç”¨ä¸€å¼µåœ–ä¾†ç†è§£ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart LR
            subgraph å¤–éƒ¨ä¸–ç•Œ["ğŸŒ å¤–éƒ¨ä¸–ç•Œ"]
            exchange["äº¤æ˜“æ‰€<br/>Binance / IB / OKX ..."]
            data_provider["æ•¸æ“šæº<br/>Databento / Tardis ..."]
            end

            subgraph nautilus["ğŸš NautilusTrader"]
            direction TB
            adapter_in["æ•¸æ“šé©é…å™¨<br/>DataClient"]
            adapter_out["åŸ·è¡Œé©é…å™¨<br/>ExecutionClient"]
            data_engine["æ•¸æ“šå¼•æ“<br/>DataEngine"]
            exec_engine["åŸ·è¡Œå¼•æ“<br/>ExecutionEngine"]
            risk_engine["é¢¨æ§å¼•æ“<br/>RiskEngine"]
            cache["ç·©å­˜<br/>Cache"]
            msgbus["æ¶ˆæ¯ç¸½ç·š<br/>MessageBus"]
            strategy["ä½ çš„ç­–ç•¥<br/>Strategy"]
            portfolio["æŠ•è³‡çµ„åˆ<br/>Portfolio"]
            end

            data_provider --&gt;|"å¸‚å ´æ•¸æ“š"| adapter_in
            exchange --&gt;|"å¸‚å ´æ•¸æ“š"| adapter_in
            adapter_in --&gt; data_engine
            data_engine --&gt; msgbus
            msgbus --&gt; strategy
            strategy --&gt;|"äº¤æ˜“æŒ‡ä»¤"| msgbus
            msgbus --&gt; risk_engine
            risk_engine --&gt; exec_engine
            exec_engine --&gt; adapter_out
            adapter_out --&gt;|"ä¸‹å–®/æ”¹å–®/æ’¤å–®"| exchange
            exchange --&gt;|"æˆäº¤å›å ±"| adapter_out
            adapter_out --&gt; exec_engine
            exec_engine --&gt; portfolio
            data_engine --&gt; cache
            exec_engine --&gt; cache
            strategy -.-&gt;|"æŸ¥è©¢"| cache
          </div>
<div class="caption">åœ– 1ï¼šNautilusTrader æ•´é«”æ•¸æ“šæµ â€” å¾å¸‚å ´æ•¸æ“šé€²å…¥åˆ°è¨‚å–®åŸ·è¡Œçš„å®Œæ•´è·¯å¾‘</div>
</div>
<div class="callout callout-info">
<div class="callout-title">ğŸ’¡ äº¤æ˜“å“¡è¦–è§’</div>
<p>
            æŠŠé€™å¼µåœ–æƒ³åƒæˆä¸€å®¶äº¤æ˜“å…¬å¸ï¼š<strong>æ•¸æ“šå¼•æ“</strong>æ˜¯è¡Œæƒ…éƒ¨é–€æ”¶é›†å¸‚å ´å ±åƒ¹ï¼Œ<strong>ç­–ç•¥</strong>æ˜¯ä½ ï¼ˆäº¤æ˜“æ±ºç­–è€…ï¼‰ï¼Œ<strong>é¢¨æ§å¼•æ“</strong>æ˜¯åˆè¦éƒ¨é–€å¯©æ ¸ä½ çš„æŒ‡ä»¤ï¼Œ<strong>åŸ·è¡Œå¼•æ“</strong>æ˜¯äº¤æ˜“å°åŸ·è¡Œä½ çš„è¨‚å–®ï¼Œ<strong>ç·©å­˜</strong>æ˜¯æ‰€æœ‰äººå…±äº«çš„ç™½æ¿ã€‚<strong>æ¶ˆæ¯ç¸½ç·š</strong>æ˜¯è¾¦å…¬å®¤çš„å…§éƒ¨é€šè¨Šç³»çµ±ï¼ŒæŠŠæ‰€æœ‰äººé€£åœ¨ä¸€èµ·ã€‚
          </p>
</div>
<!-- ==================== -->
<h2>äºŒã€å…­å¤§æ ¸å¿ƒçµ„ä»¶</h2>
<p>ç³»çµ±çš„æ ¸å¿ƒç”± 6 å€‹çµ„ä»¶çµ„æˆï¼Œå®ƒå€‘å„å¸å…¶è·ï¼Œé€é<strong>æ¶ˆæ¯ç¸½ç·š</strong>å”ä½œï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart LR
            subgraph kernel["ğŸ§  NautilusKernel â€” ç³»çµ±å…§æ ¸å¤§è…¦"]
            direction TB
            msgbus["ğŸ“¡ MessageBus<br/>æ¶ˆæ¯ç¸½ç·š"]
            cache["ğŸ’¾ Cache<br/>ç·©å­˜"]
            msgbus --- cache
            end

            subgraph engines["âš™ï¸ æ ¸å¿ƒå¼•æ“çµ„"]
            direction TB
            data["ğŸ“Š DataEngine<br/>æ•¸æ“šå¼•æ“"]
            exec["âš™ï¸ ExecutionEngine<br/>åŸ·è¡Œå¼•æ“"]
            risk["ğŸ›¡ï¸ RiskEngine<br/>é¢¨æ§å¼•æ“"]
            data --- exec --- risk
            end

            subgraph management["ğŸ’° è³‡é‡‘èˆ‡ç­–ç•¥"]
            direction TB
            port["ğŸ’° Portfolio<br/>æŠ•è³‡çµ„åˆ"]
            strat["ğŸ§© Strategy<br/>ä½ çš„ç­–ç•¥"]
            port --- strat
            end

            kernel ==&gt; engines ==&gt; management

            style kernel fill:#0f1419,stroke:#4fc3f7,stroke-width:2px
            style engines fill:#0f1419,stroke:#ffa726,stroke-width:1px
            style management fill:#0f1419,stroke:#ab47bc,stroke-width:1px
          </div>
<div class="caption">åœ– 2ï¼šå…­å¤§æ ¸å¿ƒçµ„ä»¶åŠå…¶é—œä¿‚</div>
</div>
<div class="feature-grid">
<div class="feature-card">
<span class="icon">ğŸ§ </span>
<h4>NautilusKernel â€” ç³»çµ±å…§æ ¸</h4>
<p>æ•´å€‹ç³»çµ±çš„ã€Œå¤§è…¦ã€ã€‚è² è²¬åˆå§‹åŒ–æ‰€æœ‰çµ„ä»¶ã€ç®¡ç†ç”Ÿå‘½é€±æœŸã€é…ç½®æ¶ˆæ¯åŸºç¤è¨­æ–½ã€‚å®ƒæ˜¯æ‰€æœ‰æ±è¥¿å•Ÿå‹•çš„èµ·é»ã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ“¡</span>
<h4>MessageBus â€” æ¶ˆæ¯ç¸½ç·š</h4>
<p>çµ„ä»¶é–“çš„ã€Œç¥ç¶“ç¶²çµ¡ã€ã€‚æ‰€æœ‰æ•¸æ“šã€äº‹ä»¶å’Œå‘½ä»¤éƒ½é€éå®ƒå‚³éã€‚æ”¯æ´ç™¼å¸ƒ/è¨‚é–±ã€è«‹æ±‚/å›æ‡‰å’Œé»å°é»æ¶ˆæ¯ã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ’¾</span>
<h4>Cache â€” ç·©å­˜</h4>
<p>é«˜é€Ÿè¨˜æ†¶é«”ã€Œç™½æ¿ã€ã€‚å„²å­˜é‡‘èå·¥å…·ã€å¸³æˆ¶ã€è¨‚å–®ã€æŒå€‰ç­‰æ‰€æœ‰ç‹€æ…‹ï¼Œè®“å„çµ„ä»¶å¿«é€ŸæŸ¥è©¢å…±äº«æ•¸æ“šã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ“Š</span>
<h4>DataEngine â€” æ•¸æ“šå¼•æ“</h4>
<p>ã€Œè¡Œæƒ…éƒ¨é–€ã€ã€‚æ¥æ”¶ã€è™•ç†å’Œåˆ†ç™¼å¸‚å ´æ•¸æ“šï¼ˆå ±åƒ¹ã€æˆäº¤ã€K ç·šã€è¨‚å–®ç°¿ï¼‰ï¼Œä¸¦æ ¹æ“šè¨‚é–±æŠŠæ•¸æ“šæ¨é€çµ¦éœ€è¦çš„çµ„ä»¶ã€‚</p>
</div>
<div class="feature-card">
<span class="icon">âš™ï¸</span>
<h4>ExecutionEngine â€” åŸ·è¡Œå¼•æ“</h4>
<p>ã€Œäº¤æ˜“å°ã€ã€‚ç®¡ç†è¨‚å–®çš„å®Œæ•´ç”Ÿå‘½é€±æœŸï¼Œå¾ä¸‹å–®åˆ°æˆäº¤/æ’¤éŠ·ï¼Œè¿½è¹¤æ‰€æœ‰è¨‚å–®å’ŒæŒå€‰ç‹€æ…‹ã€‚</p>
</div>
<div class="feature-card">
<span class="icon">ğŸ›¡ï¸</span>
<h4>RiskEngine â€” é¢¨æ§å¼•æ“</h4>
<p>ã€Œåˆè¦ç®¡ç†ã€ã€‚åœ¨è¨‚å–®åˆ°é”åŸ·è¡Œå¼•æ“ä¹‹å‰é€²è¡Œé¢¨éšªæª¢æŸ¥ï¼Œç¢ºä¿ä¸æœƒè¶…å‡ºé¢¨éšªé™åˆ¶ã€‚</p>
</div>
</div>
<!-- ==================== -->
<h2>ä¸‰ã€ä¸‰ç¨®é‹è¡Œç’°å¢ƒ</h2>
<p>åŒä¸€å€‹ç³»çµ±å¯ä»¥åœ¨ä¸‰ç¨®ã€Œç’°å¢ƒã€ä¸­å·¥ä½œï¼Œè€Œä½ çš„ç­–ç•¥ä»£ç¢¼ä¸éœ€è¦æ”¹å‹•ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart TB
            subgraph common["ğŸ”„ é€šç”¨æ ¸å¿ƒ (NautilusKernel)"]
            kernel["MessageBus + Cache + DataEngine<br/>+ ExecutionEngine + RiskEngine + Portfolio"]
            end

            subgraph bt["ğŸ“Š å›æ¸¬ç’°å¢ƒ (Backtest)"]
            bt_data["æ­·å²æ•¸æ“šæ–‡ä»¶"]
            bt_venue["æ¨¡æ“¬äº¤æ˜“æ‰€<br/>SimulatedExchange"]
            end

            subgraph sb["ğŸ–ï¸ æ²™ç®±ç’°å¢ƒ (Sandbox)"]
            sb_data["å³æ™‚å¸‚å ´æ•¸æ“š"]
            sb_venue["æ¨¡æ“¬äº¤æ˜“æ‰€<br/>SimulatedExchange"]
            end

            subgraph lv["ğŸ”´ å¯¦ç›¤ç’°å¢ƒ (Live)"]
            lv_data["å³æ™‚å¸‚å ´æ•¸æ“š"]
            lv_venue["çœŸå¯¦äº¤æ˜“æ‰€<br/>Live Exchange"]
            end

            bt --&gt; common
            sb --&gt; common
            lv --&gt; common
          </div>
<div class="caption">åœ– 3ï¼šä¸‰ç¨®ç’°å¢ƒå…±äº«åŒä¸€å€‹æ ¸å¿ƒ</div>
</div>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>ğŸ“Š å›æ¸¬</th>
<th>ğŸ–ï¸ æ²™ç®±</th>
<th>ğŸ”´ å¯¦ç›¤</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•¸æ“šä¾†æº</td>
<td>æ­·å²æ•¸æ“šæ–‡ä»¶</td>
<td>å³æ™‚å¸‚å ´æ•¸æ“š</td>
<td>å³æ™‚å¸‚å ´æ•¸æ“š</td>
</tr>
<tr>
<td>äº¤æ˜“åŸ·è¡Œ</td>
<td>å…§å»ºæ¨¡æ“¬å¼•æ“</td>
<td>å…§å»ºæ¨¡æ“¬å¼•æ“</td>
<td>é€£æ¥çœŸå¯¦äº¤æ˜“æ‰€</td>
</tr>
<tr>
<td>é¢¨éšª</td>
<td>é›¶é¢¨éšª</td>
<td>é›¶é¢¨éšª</td>
<td>çœŸå¯¦è³‡é‡‘é¢¨éšª</td>
</tr>
<tr>
<td>é€Ÿåº¦</td>
<td>å¯ä»¥åŠ é€Ÿå›æ”¾</td>
<td>å³æ™‚</td>
<td>å³æ™‚</td>
</tr>
<tr>
<td>ç”¨é€”</td>
<td>é©—è­‰ç­–ç•¥é‚è¼¯</td>
<td>é©—è­‰å³æ™‚è¡¨ç¾</td>
<td>æ­£å¼äº¤æ˜“</td>
</tr>
<tr>
<td>ç­–ç•¥ä»£ç¢¼</td>
<td colspan="3" style="text-align:center;color:var(--accent-green);"><strong>å®Œå…¨ç›¸åŒ â€” ä¸éœ€è¦ä¿®æ”¹</strong></td>
</tr>
</tbody>
</table>
</div>
<!-- ==================== -->
<h2>å››ã€ä»£ç¢¼æ¶æ§‹ â€” æ€éº¼çµ„ç¹”çš„ï¼Ÿ</h2>
<p>NautilusTrader çš„ä»£ç¢¼åˆ†å…©å¤§éƒ¨åˆ†ï¼š<strong>Rust æ ¸å¿ƒ</strong>å’Œ <strong>Python/Cython å°è£</strong>ã€‚</p>
<h3>4.1 ä¸‰å±¤åˆ†é›¢ â€” å…¨å±€è¦–è§’</h3>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart LR
            %% Python å±¤
            subgraph python_pkg["ğŸ“¦ Python / Cython å±¤<br/>(nautilus_trader/)"]
            direction TB
            p_logic["äº¤æ˜“ç­–ç•¥èˆ‡æŒ‡æ¨™<br/>(trading/ / indicators/)"]
            p_model["é ˜åŸŸæ¨¡å‹å°è£<br/>(model/)"]
            p_engine["å¼•æ“ä»‹é¢èˆ‡é…ç½®<br/>(core/ / data/ / exec/)"]
            p_logic --- p_model --- p_engine
            end

            %% æ©‹æ¥å±¤
            subgraph bridge["ğŸ”— æ©‹æ¥å±¤<br/>(Cython + PyO3)"]
            direction TB
            ffi["C FFI ä»‹é¢"]
            binding["Python ç¶å®š"]
            ffi &lt;==&gt; binding
              end

              %% Rust å±¤
              subgraph rust_pkg["ğŸ¦€ Rust æ ¸å¿ƒå±¤<br/>(crates/)"]
              direction TB
              r_engines["æ ¸å¿ƒå¼•æ“çµ„ä»¶<br/>(data / execution / risk)"]
              r_base["åŸºç¤è¨­æ–½èˆ‡å…§æ ¸<br/>(core / model / common)"]
              r_infra["åº•å±¤æœå‹™<br/>(network / persistence)"]
              r_engines --- r_base --- r_infra
              end

              %% å…¨å±€é€£æ¥
              python_pkg &lt;==&gt; bridge &lt;==&gt; rust_pkg

                  %% æ¨£å¼
                  style bridge fill:#1a1f2e,stroke:#ab47bc,stroke-width:2px
                  style python_pkg fill:#0f1419,stroke:#4fc3f7,stroke-width:1px
                  style rust_pkg fill:#0f1419,stroke:#ef5350,stroke-width:1px
          </div>
<div class="caption">åœ– 4ï¼šNautilusTrader çš„ä¸‰å±¤åˆ†é›¢æ¶æ§‹ â€” å¾ Python ç­–ç•¥åˆ°åº•å±¤ Rust æ ¸å¿ƒ</div>
</div>
<h3>4.2 Rust Crates ä¾è³´åœ–</h3>
<div class="callout callout-warning">
<div class="callout-title">âš ï¸ é€²éšå…§å®¹ (é¸è®€)</div>
<p>ä»¥ä¸‹å…§å®¹æ¶‰åŠåº•å±¤ Rust å¼•æ“çš„å…·é«”å¯¦ç¾çµæ§‹ã€‚å¦‚æœä½ æ˜¯åˆå­¸è€…æˆ–åªæ‰“ç®—ç”¨ Python é–‹ç™¼ç­–ç•¥ï¼Œé€™éƒ¨åˆ†å¯ä»¥å®Œå…¨è·³éï¼Œä¸å½±éŸ¿å¾ŒçºŒå­¸ç¿’ã€‚</p>
</div>
<p>Rust å´æœ‰ 23 å€‹ crateï¼ŒæŒ‰åŠŸèƒ½åˆ†ç‚ºäº”é¡ã€‚ä¸‹åœ–å±•ç¤ºå®ƒå€‘ä¹‹é–“çš„ä¾è³´é—œä¿‚ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart LR
            subgraph layer_found["ğŸ§± åŸºç¤å±¤"]
            direction TB
            core["core"]
            model["model"]
            common["common"]
            model --&gt; core
            common --&gt; model
            end

            subgraph layer_infra["ğŸ—ï¸ åŸºå»ºèˆ‡å¼•æ“"]
            direction TB
            serialization["serialization"]
            persistence["persistence"]
            data["data"]
            execution["execution"]
            risk["risk"]
            portfolio["portfolio"]
            serialization --&gt; model
            persistence --&gt; serialization
            data --&gt; common
            execution --&gt; common
            risk --&gt; portfolio
            portfolio --&gt; common
            end

            subgraph layer_runtime["ğŸš€ é‹è¡Œèˆ‡æ“´å±•"]
            direction TB
            system["system"]
            trading["trading"]
            backtest["backtest"]
            live["live"]
            adapters["adapters"]
            pyo3["pyo3"]
            backtest --&gt; system
            live --&gt; system
            live --&gt; trading
            adapters --&gt; live
            pyo3 --&gt; adapters
            end

            layer_found ==&gt; layer_infra ==&gt; layer_runtime

            style layer_found fill:#0f1419,stroke:#4fc3f7,stroke-width:1px
            style layer_infra fill:#0f1419,stroke:#ffa726,stroke-width:1px
            style layer_runtime fill:#0f1419,stroke:#ef5350,stroke-width:1px
          </div>
<div class="caption">åœ– 5ï¼šRust crate ä¾è³´é—œä¿‚ â€” ç®­é ­æ–¹å‘è¡¨ç¤ºã€Œä¾è³´æ–¼ã€</div>
</div>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>é¡åˆ¥</th>
<th>åŒ…å«çš„ Crates</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td style="color:var(--accent-cyan);">åŸºç¤å±¤</td>
<td>core, model, common, system, trading</td>
<td>åŸºæœ¬é¡å‹ã€é ˜åŸŸæ¨¡å‹ã€å…§æ ¸ã€ç­–ç•¥åŸºé¡</td>
</tr>
<tr>
<td style="color:var(--accent-green);">å¼•æ“å±¤</td>
<td>data, execution, portfolio, risk</td>
<td>æ ¸å¿ƒäº¤æ˜“å¼•æ“çµ„ä»¶</td>
</tr>
<tr>
<td style="color:var(--accent-orange);">åŸºç¤è¨­æ–½å±¤</td>
<td>serialization, network, cryptography, persistence</td>
<td>ç·¨ç¢¼ã€ç¶²çµ¡ã€åŠ å¯†ã€æ•¸æ“šå­˜å„²</td>
</tr>
<tr>
<td style="color:var(--accent-purple);">é‹è¡Œå±¤</td>
<td>live, backtest</td>
<td>å…·é«”ç’°å¢ƒçš„ç¯€é»å¯¦ç¾</td>
</tr>
<tr>
<td style="color:var(--accent-blue);">å¤–éƒ¨æ•´åˆ</td>
<td>adapters/*</td>
<td>å„äº¤æ˜“æ‰€å’Œæ•¸æ“šæºé©é…å™¨</td>
</tr>
<tr>
<td style="color:var(--accent-gold);">Python ç¶å®š</td>
<td>pyo3</td>
<td>å°‡ Rust æš´éœ²çµ¦ Python</td>
</tr>
</tbody>
</table>
</div>
<!-- ==================== -->
<h2>äº”ã€æ•¸æ“šæµå®Œæ•´è·¯å¾‘</h2>
<p>è®“æˆ‘å€‘è¿½è¹¤ä¸€å€‹å¸‚å ´å ±åƒ¹ï¼ˆæ¯”å¦‚ BTC/USDT çš„æœ€æ–°åƒ¹æ ¼ï¼‰æ˜¯å¦‚ä½•åœ¨ç³»çµ±ä¸­æµå‹•çš„ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            sequenceDiagram
            participant Exchange as ğŸ¦ äº¤æ˜“æ‰€
            participant DC as ğŸ“¡ DataClient<br/>(é©é…å™¨)
            participant DE as ğŸ“Š DataEngine
            participant Cache as ğŸ’¾ Cache
            participant MB as ğŸ“¡ MessageBus
            participant Strategy as ğŸ¯ ä½ çš„ç­–ç•¥

            Exchange-&gt;&gt;DC: WebSocket æ¨é€åŸå§‹å ±åƒ¹
            DC-&gt;&gt;DC: è½‰æ›ç‚ºæ¨™æº–æ ¼å¼ (QuoteTick)
            DC-&gt;&gt;DE: å‚³å…¥æ¨™æº–åŒ–æ•¸æ“š
            DE-&gt;&gt;Cache: å­˜å…¥ç·©å­˜
            DE-&gt;&gt;MB: ç™¼å¸ƒæ•¸æ“šäº‹ä»¶
            MB-&gt;&gt;Strategy: æ¨é€çµ¦è¨‚é–±äº†è©²å“ç¨®çš„ç­–ç•¥
            Strategy-&gt;&gt;Strategy: åŸ·è¡Œç­–ç•¥é‚è¼¯
            Note over Strategy: æ±ºå®šæ˜¯å¦ä¸‹å–®
          </div>
<div class="caption">åœ– 6ï¼šå¸‚å ´æ•¸æ“šå¾äº¤æ˜“æ‰€åˆ°ç­–ç•¥çš„å®Œæ•´æµç¨‹</div>
</div>
<!-- ==================== -->
<h2>å…­ã€åŸ·è¡Œæµå®Œæ•´è·¯å¾‘</h2>
<p>ç•¶ç­–ç•¥æ±ºå®šä¸‹å–®æ™‚ï¼Œè¨‚å–®å¦‚ä½•å¾ä½ çš„ç­–ç•¥åˆ°é”äº¤æ˜“æ‰€ï¼Ÿ</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            sequenceDiagram
            participant Strategy as ğŸ¯ ä½ çš„ç­–ç•¥
            participant MB as ğŸ“¡ MessageBus
            participant Risk as ğŸ›¡ï¸ RiskEngine
            participant EE as âš™ï¸ ExecutionEngine
            participant EC as ğŸ”Œ ExecutionClient<br/>(é©é…å™¨)
            participant Exchange as ğŸ¦ äº¤æ˜“æ‰€
            participant Portfolio as ğŸ’° Portfolio
            participant Cache as ğŸ’¾ Cache

            Strategy-&gt;&gt;MB: ç™¼é€ä¸‹å–®å‘½ä»¤ (SubmitOrder)
            MB-&gt;&gt;Risk: é¢¨æ§æª¢æŸ¥
            Risk-&gt;&gt;Risk: é©—è­‰é¢¨éšªé™åˆ¶
            alt é¢¨æ§é€šé
            Risk-&gt;&gt;EE: è½‰ç™¼å‘½ä»¤
            EE-&gt;&gt;EC: è·¯ç”±åˆ°å°æ‡‰äº¤æ˜“æ‰€
            EC-&gt;&gt;Exchange: æäº¤è¨‚å–® (REST/WS)
            Exchange--&gt;&gt;EC: è¨‚å–®ç¢ºèª
            EC-&gt;&gt;EE: å›å ± OrderAccepted äº‹ä»¶
            EE-&gt;&gt;Cache: æ›´æ–°è¨‚å–®ç‹€æ…‹
            EE-&gt;&gt;MB: ç™¼å¸ƒäº‹ä»¶
            Exchange--&gt;&gt;EC: æˆäº¤å›å ±
            EC-&gt;&gt;EE: å›å ± OrderFilled äº‹ä»¶
            EE-&gt;&gt;Portfolio: æ›´æ–°æŒå€‰å’Œç›ˆè™§
            EE-&gt;&gt;Cache: æ›´æ–°ç‹€æ…‹
            EE-&gt;&gt;MB: ç™¼å¸ƒäº‹ä»¶
            MB-&gt;&gt;Strategy: é€šçŸ¥æˆäº¤
            else é¢¨æ§æ‹’çµ•
            Risk-&gt;&gt;MB: ç™¼å¸ƒ OrderDenied äº‹ä»¶
            MB-&gt;&gt;Strategy: é€šçŸ¥è¢«æ‹’çµ•
            end
          </div>
<div class="caption">åœ– 7ï¼šè¨‚å–®å¾ç­–ç•¥åˆ°äº¤æ˜“æ‰€çš„å®Œæ•´åŸ·è¡Œæµç¨‹</div>
</div>
<div class="callout callout-success">
<div class="callout-title">âœ… é—œéµæ´å¯Ÿ</div>
<p>æ³¨æ„åˆ°äº†å—ï¼Ÿ<strong>ç­–ç•¥å¾ä¸ç›´æ¥å’Œäº¤æ˜“æ‰€é€šè¨Š</strong>ã€‚æ‰€æœ‰æ“ä½œéƒ½ç¶“éæ¶ˆæ¯ç¸½ç·šå’Œå¼•æ“å±¤ã€‚é€™æ˜¯ã€Œå…­è§’å½¢æ¶æ§‹ã€çš„è¨­è¨ˆâ€”â€”ç­–ç•¥åªé—œå¿ƒäº¤æ˜“é‚è¼¯ï¼Œä¸éœ€è¦çŸ¥é“å®ƒé€£æ¥çš„æ˜¯çœŸå¯¦äº¤æ˜“æ‰€é‚„æ˜¯æ¨¡æ“¬å™¨ã€‚</p>
</div>
<!-- ==================== -->
<h2>ä¸ƒã€Python æ¨¡çµ„åœ°åœ–</h2>
<p>ä»¥ä¸‹æ˜¯ä½ ä½œç‚ºç­–ç•¥é–‹ç™¼è€…æœ€å¸¸æ¥è§¸çš„ Python æ¨¡çµ„ï¼š</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>æ¨¡çµ„</th>
<th>ç”¨é€”</th>
<th>ä½ éœ€è¦äº†è§£çš„ç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>trading/</code></td>
<td>Strategy å’Œ Actor åŸºé¡ â€” <strong>ä½ å¯«ç­–ç•¥çš„åœ°æ–¹</strong></td>
<td style="color:var(--accent-green);">â­â­â­ å¿…é ˆç²¾é€š</td>
</tr>
<tr>
<td><code>model/</code></td>
<td>è¨‚å–®ã€æŒå€‰ã€é‡‘èå·¥å…·ç­‰é ˜åŸŸå°è±¡</td>
<td style="color:var(--accent-green);">â­â­â­ å¿…é ˆç†Ÿæ‚‰</td>
</tr>
<tr>
<td><code>indicators/</code></td>
<td>æŠ€è¡“æŒ‡æ¨™ï¼ˆEMA, SMA, RSI ç­‰ï¼‰</td>
<td style="color:var(--accent-green);">â­â­â­ å¸¸ç”¨</td>
</tr>
<tr>
<td><code>config/</code></td>
<td>ç³»çµ±å’Œç­–ç•¥é…ç½®</td>
<td style="color:var(--accent-orange);">â­â­ éœ€è¦çŸ¥é“</td>
</tr>
<tr>
<td><code>backtest/</code></td>
<td>å›æ¸¬å¼•æ“å’Œé…ç½®</td>
<td style="color:var(--accent-orange);">â­â­ éœ€è¦çŸ¥é“</td>
</tr>
<tr>
<td><code>live/</code></td>
<td>å¯¦ç›¤ç¯€é»é…ç½®</td>
<td style="color:var(--accent-orange);">â­â­ éƒ¨ç½²æ™‚éœ€è¦</td>
</tr>
<tr>
<td><code>adapters/</code></td>
<td>äº¤æ˜“æ‰€é€£æ¥å™¨</td>
<td>â­ é€šå¸¸ä¸éœ€è¦ä¿®æ”¹</td>
</tr>
<tr>
<td><code>data/</code></td>
<td>æ•¸æ“šå¼•æ“å…§éƒ¨</td>
<td>â­ äº†è§£æ¦‚å¿µå³å¯</td>
</tr>
<tr>
<td><code>execution/</code></td>
<td>åŸ·è¡Œå¼•æ“å…§éƒ¨</td>
<td>â­ äº†è§£æ¦‚å¿µå³å¯</td>
</tr>
<tr>
<td><code>cache/</code></td>
<td>ç·©å­˜ç³»çµ±</td>
<td>â­ çŸ¥é“æ€éº¼æŸ¥è©¢</td>
</tr>
<tr>
<td><code>core/</code></td>
<td>åº•å±¤å·¥å…·å’Œå¸¸é‡</td>
<td>â­ å¾ˆå°‘ç›´æ¥ä½¿ç”¨</td>
</tr>
<tr>
<td><code>risk/</code></td>
<td>é¢¨æ§å¼•æ“</td>
<td>â­ äº†è§£é…ç½®å³å¯</td>
</tr>
</tbody>
</table>
</div>
<!-- ==================== -->
<h2>å…«ã€ä¸€å€‹å®Œæ•´çš„äº¤æ˜“å¾ªç’°</h2>
<p>æŠŠæ‰€æœ‰éƒ¨åˆ†ä¸²èµ·ä¾†ï¼Œä¸€å€‹å®Œæ•´çš„äº¤æ˜“å¾ªç’°é•·é€™æ¨£ï¼š</p>
<div class="mermaid-wrapper">
<div class="mermaid">
            flowchart TB
            A["1ï¸âƒ£ ç³»çµ±å•Ÿå‹•<br/>NautilusKernel åˆå§‹åŒ–æ‰€æœ‰çµ„ä»¶"] --&gt; B["2ï¸âƒ£ é€£æ¥æ•¸æ“šæº<br/>DataClient é€£æ¥äº¤æ˜“æ‰€ WebSocket"]
            B --&gt; C["3ï¸âƒ£ è¨‚é–±æ•¸æ“š<br/>ç­–ç•¥å‘Šè¨´ DataEngine å®ƒéœ€è¦å“ªäº›æ•¸æ“š"]
            C --&gt; D["4ï¸âƒ£ æ¥æ”¶è¡Œæƒ…<br/>æ•¸æ“šåˆ°é”ç­–ç•¥çš„ on_quote_tick / on_bar å›èª¿"]
            D --&gt; E["5ï¸âƒ£ ç­–ç•¥æ±ºç­–<br/>ç­–ç•¥åˆ†ææ•¸æ“šã€è¨ˆç®—æŒ‡æ¨™ã€ç”Ÿæˆä¿¡è™Ÿ"]
            E --&gt; F{"6ï¸âƒ£ æ˜¯å¦ä¸‹å–®ï¼Ÿ"}
            F --&gt;|"æ˜¯"| G["7ï¸âƒ£ é¢¨æ§æª¢æŸ¥<br/>RiskEngine é©—è­‰è¨‚å–®"]
            F --&gt;|"å¦"| D
            G --&gt; H["8ï¸âƒ£ åŸ·è¡Œè¨‚å–®<br/>ExecutionEngine é€éé©é…å™¨ä¸‹å–®"]
            H --&gt; I["9ï¸âƒ£ æ›´æ–°ç‹€æ…‹<br/>Cache + Portfolio æ›´æ–°"]
            I --&gt; D
          </div>
<div class="caption">åœ– 8ï¼šä¸€å€‹å®Œæ•´çš„äº¤æ˜“å¾ªç’°</div>
</div>
<!-- ==================== -->
<h2>ä¹ã€äº’å‹•ç·´ç¿’</h2>
<div class="exercise-block">
<div class="exercise-title">ğŸ§  ç·´ç¿’ 1ï¼šçµ„ä»¶é…å°</div>
<p>å°‡ä»¥ä¸‹åŠŸèƒ½å’Œæ­£ç¢ºçš„çµ„ä»¶é…å°ï¼š</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>ä½ çš„ç­”æ¡ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td>A. å­˜å„²è¨‚å–®ç‹€æ…‹</td>
<td>___________</td>
</tr>
<tr>
<td>B. æ¥æ”¶äº¤æ˜“æ‰€çš„å³æ™‚å ±åƒ¹</td>
<td>___________</td>
</tr>
<tr>
<td>C. æª¢æŸ¥å–®ç­†è¨‚å–®æ˜¯å¦è¶…éé¢¨éšªä¸Šé™</td>
<td>___________</td>
</tr>
<tr>
<td>D. æŠŠæˆäº¤äº‹ä»¶æ¨é€çµ¦ç­–ç•¥</td>
<td>___________</td>
</tr>
<tr>
<td>E. ç®¡ç†è¨‚å–®çš„ä¸‹é”å’Œæ’¤éŠ·</td>
<td>___________</td>
</tr>
</tbody>
</table>
</div>
<button class="btn-run" onclick="toggleAnswer('answer-pair')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button>
<div class="exercise-output" id="answer-pair">A â†’ Cacheï¼ˆç·©å­˜ï¼‰
            B â†’ DataClient / DataEngineï¼ˆæ•¸æ“šé©é…å™¨ / æ•¸æ“šå¼•æ“ï¼‰
            C â†’ RiskEngineï¼ˆé¢¨æ§å¼•æ“ï¼‰
            D â†’ MessageBusï¼ˆæ¶ˆæ¯ç¸½ç·šï¼‰
            E â†’ ExecutionEngineï¼ˆåŸ·è¡Œå¼•æ“ï¼‰</div>
</div>
<div class="exercise-block">
<div class="exercise-title">ğŸ§  ç·´ç¿’ 2ï¼šæ•¸æ“šè¿½è¹¤</div>
<p>å‡è¨­ä½ çš„ç­–ç•¥è¨‚é–±äº† BTC/USDT çš„ä¸€åˆ†é˜ K ç·šï¼ˆBarï¼‰ã€‚è«‹æè¿°ä¸€æ ¹æ–° K ç·šå¾å½¢æˆåˆ°ä½ çš„ç­–ç•¥æ”¶åˆ°å®ƒçš„å®Œæ•´è·¯å¾‘ã€‚</p>
<button class="btn-run" onclick="toggleAnswer('answer-trace')">ğŸ’¡ æŸ¥çœ‹åƒè€ƒç­”æ¡ˆ</button>
<div class="exercise-output" id="answer-trace">1. äº¤æ˜“æ‰€çš„é€ç­†æˆäº¤æ•¸æ“šé€é WebSocket æ¨é€åˆ° DataClient
            2. DataClient å°‡åŸå§‹æ•¸æ“šè½‰æ›ç‚º NautilusTrader çš„æ¨™æº– TradeTick æ ¼å¼
            3. DataEngine æ”¶é›† TradeTick ä¸¦å…§éƒ¨èšåˆç‚º 1 åˆ†é˜ Bar
            4. ç•¶ 1 åˆ†é˜çµæŸæ™‚ï¼ŒBar å®Œæˆèšåˆ
            5. DataEngine å°‡ Bar å¯«å…¥ Cache
            6. DataEngine é€é MessageBus ç™¼å¸ƒ Bar äº‹ä»¶
            7. MessageBus æŸ¥æ‰¾æ‰€æœ‰è¨‚é–±äº†è©² Bar çš„çµ„ä»¶
            8. ä½ çš„ç­–ç•¥çš„ on_bar() å›èª¿è¢«èª¿ç”¨ï¼Œæ”¶åˆ°é€™æ ¹ K ç·š</div>
</div>
<!-- ==================== -->
<h2>åã€æœ¬æ¨¡çµ„é‡é»å›é¡§</h2>
<div class="card">
<div class="card-title">ğŸ“‹ ä½ æ‡‰è©²è¨˜ä½çš„é—œéµé»</div>
<ol>
<li><strong>å…­å¤§æ ¸å¿ƒçµ„ä»¶</strong>ï¼šKernelã€MessageBusã€Cacheã€DataEngineã€ExecutionEngineã€RiskEngine</li>
<li><strong>æ¶ˆæ¯ç¸½ç·š</strong>æ˜¯ç³»çµ±çš„ç¥ç¶“ä¸­æ¨ï¼Œæ‰€æœ‰çµ„ä»¶é€éå®ƒé€šè¨Š</li>
<li><strong>ä¸‰ç¨®ç’°å¢ƒ</strong>ï¼ˆå›æ¸¬/æ²™ç®±/å¯¦ç›¤ï¼‰å…±äº«åŒä¸€å€‹æ ¸å¿ƒï¼Œç­–ç•¥ä»£ç¢¼ä¸è®Š</li>
<li><strong>æ•¸æ“šæµ</strong>ï¼šäº¤æ˜“æ‰€ â†’ é©é…å™¨ â†’ æ•¸æ“šå¼•æ“ â†’ æ¶ˆæ¯ç¸½ç·š â†’ ç­–ç•¥</li>
<li><strong>åŸ·è¡Œæµ</strong>ï¼šç­–ç•¥ â†’ æ¶ˆæ¯ç¸½ç·š â†’ é¢¨æ§ â†’ åŸ·è¡Œå¼•æ“ â†’ é©é…å™¨ â†’ äº¤æ˜“æ‰€</li>
<li><strong>ç­–ç•¥å¾ä¸ç›´æ¥é€£æ¥äº¤æ˜“æ‰€</strong>ï¼Œé€™æ˜¯æ¶æ§‹è§£è€¦çš„æ ¸å¿ƒè¨­è¨ˆ</li>
</ol>
</div>
<!-- é é¢å°èˆª -->
<div class="page-nav">
<a href="../Module_01_Why_NautilusTrader/index.html">
<span class="nav-label">â† ä¸Šä¸€ç« </span>
<span class="nav-title">æ¨¡çµ„ 01ï¼šç‚ºä»€éº¼é¸æ“‡ NautilusTrader</span>
</a>
<a href="../Module_03_Design_Philosophy/index.html" style="text-align:right;">
<span class="nav-label">ä¸‹ä¸€ç«  â†’</span>
<span class="nav-title">æ¨¡çµ„ 03ï¼šè¨­è¨ˆå“²å­¸èˆ‡å“è³ªå±¬æ€§</span>
</a>
</div>
</div>
</div>
</div>
<button aria-label="å›åˆ°é ‚éƒ¨" class="back-to-top">â†‘</button>
<script src="../assets/lecture.js"></script>
</body>
</html>